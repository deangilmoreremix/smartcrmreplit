import{r as t,j as e,cG as c,cH as l,cy as J,ar as N,be as q,bf as B,bN as F,cI as K,bb as P,b9 as $,am as W}from"./index-e3V0CD7Y.js";import{V as X}from"./volume-x-D_9UCciv.js";const _=()=>{const[r,I]=t.useState("dialer"),[a,f]=t.useState(""),[i,v]=t.useState(!1),[y,m]=t.useState(null),[U,x]=t.useState(0),[d,S]=t.useState(!1),[Q,M]=t.useState(!1),[o,C]=t.useState(!1),[k,w]=t.useState(null),[u,h]=t.useState(null),[b,g]=t.useState(!1),[D]=t.useState([{id:"1",contactName:"John Doe",phoneNumber:"(555) 123-4567",direction:"outbound",startTime:new Date(Date.now()-864e5),duration:325,status:"completed",notes:"Discussed proposal details. Follow up next week.",recordingUrl:"https://example.com/recording1.mp3"},{id:"2",contactName:"Sarah Williams",phoneNumber:"(555) 987-6543",direction:"inbound",startTime:new Date(Date.now()-1728e5),duration:0,status:"missed",notes:"Left a voicemail about scheduling a demo"},{id:"3",contactName:"Robert Johnson",phoneNumber:"(555) 456-7890",direction:"outbound",startTime:new Date(Date.now()-2592e5),duration:183,status:"completed",recordingUrl:"https://example.com/recording2.mp3"},{id:"4",contactName:"Jane Smith",phoneNumber:"(555) 321-7654",direction:"inbound",startTime:new Date(Date.now()-3456e5),duration:0,status:"voicemail",notes:"Asked about pricing options",recordingUrl:"https://example.com/voicemail1.mp3"}]),p=D.filter(s=>s.status==="voicemail"),R=s=>{a.length<14&&f(a+s)},O=()=>{a.length>0&&f(a.slice(0,-1))},z=s=>s.length<=3?s:s.length<=7?`(${s.slice(0,3)}) ${s.slice(3)}`:`(${s.slice(0,3)}) ${s.slice(3,6)}-${s.slice(6)}`,V=()=>{a.trim().length!==0&&(window.location.href=`tel:${a.replace(/\D/g,"")}`,v(!0),m("Calling..."),setTimeout(()=>{m("Connected"),x(0);const s=setInterval(()=>{x(n=>n+1)},1e3);w(s)},2e3))},L=()=>{k&&(clearInterval(k),w(null)),v(!1),m(null),x(0),S(!1),M(!1),C(!1)},A=()=>{S(!d)},E=()=>{C(!o)},H=s=>{const n=Math.floor(s/60),j=s%60;return`${n.toString().padStart(2,"0")}:${j.toString().padStart(2,"0")}`},G=s=>{const n=Math.floor(s/60),j=s%60;return`${n}:${j.toString().padStart(2,"0")}`},T=s=>{u===s&&b?(g(!1),h(null)):(h(s),g(!0),setTimeout(()=>{g(!1),h(null)},3e3))};return e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Phone System"}),e.jsx("p",{className:"text-gray-600",children:"Make and receive calls directly from your CRM"})]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:["dialer","logs","voicemail","settings"].map(s=>e.jsx("button",{onClick:()=>I(s),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm capitalize ${r===s?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s},s))})})}),r==="dialer"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(c,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Dialer"}),e.jsx("div",{className:"mb-6",children:e.jsx("input",{type:"text",value:z(a),readOnly:!0,className:"w-full text-2xl text-center p-4 border-2 border-gray-300 rounded-lg bg-gray-50",placeholder:"Enter phone number"})}),e.jsx("div",{className:"grid grid-cols-3 gap-3 mb-6",children:["1","2","3","4","5","6","7","8","9","*","0","#"].map(s=>e.jsx("button",{onClick:()=>R(s),className:"aspect-square bg-gray-100 hover:bg-gray-200 rounded-lg text-xl font-semibold transition-colors",disabled:i,children:s},s))}),e.jsxs("div",{className:"flex justify-center space-x-4 mb-4",children:[e.jsx(l,{onClick:O,variant:"outline",disabled:i,className:"p-3 rounded-full",children:e.jsx(J,{size:20})}),e.jsx(l,{onClick:V,disabled:a.length===0||i,variant:"primary",className:"p-4 bg-green-500 hover:bg-green-600 rounded-full",children:e.jsx(N,{size:24})})]})]}),e.jsxs(c,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:i?"Active Call":"Call Controls"}),i?e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-lg font-semibold",children:y}),e.jsx("div",{className:"text-gray-600",children:z(a)}),y==="Connected"&&e.jsx("div",{className:"text-2xl font-bold text-green-600 mt-2",children:H(U)})]}),e.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[e.jsx(l,{onClick:A,variant:d?"primary":"outline",className:`p-3 rounded-full ${d?"bg-red-500 hover:bg-red-600":""}`,children:d?e.jsx(q,{size:20}):e.jsx(B,{size:20})}),e.jsx(l,{onClick:E,variant:o?"primary":"outline",className:`p-3 rounded-full ${o?"bg-blue-500 hover:bg-blue-600":""}`,children:o?e.jsx(F,{size:20}):e.jsx(X,{size:20})})]}),e.jsx(l,{onClick:L,variant:"primary",className:"p-4 bg-red-500 hover:bg-red-600 rounded-full",children:e.jsx(K,{size:24})})]}):e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(N,{size:48,className:"mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No active call"}),e.jsx("p",{className:"text-sm",children:"Use the dialer to start a call"})]})]})]}),r==="logs"&&e.jsxs(c,{children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold",children:"Call History"})}),e.jsx("div",{className:"divide-y divide-gray-200",children:D.map(s=>e.jsxs("div",{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`p-2 rounded-full ${s.direction==="inbound"?"bg-green-100":"bg-blue-100"}`,children:e.jsx(N,{size:16,className:s.direction==="inbound"?"text-green-600":"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.contactName}),e.jsx("div",{className:"text-sm text-gray-600",children:s.phoneNumber}),e.jsxs("div",{className:"text-xs text-gray-500",children:[s.startTime.toLocaleDateString()," ",s.startTime.toLocaleTimeString()]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`inline-flex px-2 py-1 text-xs rounded-full ${s.status==="completed"?"bg-green-100 text-green-800":s.status==="missed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:s.status}),s.duration>0&&e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:G(s.duration)}),s.recordingUrl&&e.jsxs(l,{onClick:()=>T(s.recordingUrl),variant:"ghost",size:"sm",className:"mt-2 text-blue-600 hover:text-blue-700",children:[u===s.recordingUrl&&b?e.jsx(P,{size:14,className:"mr-1"}):e.jsx($,{size:14,className:"mr-1"}),"Recording"]})]})]},s.id))})]}),r==="voicemail"&&e.jsxs(c,{children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h2",{className:"text-xl font-semibold",children:["Voicemails (",p.length,")"]})}),e.jsx("div",{className:"divide-y divide-gray-200",children:p.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(W,{size:48,className:"mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No voicemails"})]}):p.map(s=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"font-medium",children:s.contactName}),e.jsxs("div",{className:"text-sm text-gray-600",children:[s.startTime.toLocaleDateString()," ",s.startTime.toLocaleTimeString()]})]}),e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:s.phoneNumber}),s.notes&&e.jsx("div",{className:"text-sm text-gray-800 mb-3",children:s.notes}),s.recordingUrl&&e.jsxs(l,{onClick:()=>T(s.recordingUrl),variant:"outline",size:"sm",className:"bg-blue-100 text-blue-800 hover:bg-blue-200",children:[u===s.recordingUrl&&b?e.jsx(P,{size:14,className:"mr-1"}):e.jsx($,{size:14,className:"mr-1"}),"Play Voicemail"]})]},s.id))})]}),r==="settings"&&e.jsxs(c,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Phone Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Country Code"}),e.jsxs("select",{className:"block w-full max-w-xs px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"+1",children:"+1 (United States)"}),e.jsx("option",{value:"+44",children:"+44 (United Kingdom)"}),e.jsx("option",{value:"+49",children:"+49 (Germany)"}),e.jsx("option",{value:"+33",children:"+33 (France)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Call Recording"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300",defaultChecked:!0}),e.jsx("span",{className:"ml-2 text-sm",children:"Enable call recording"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300"}),e.jsx("span",{className:"ml-2 text-sm",children:"Auto-record all calls"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ringtone Volume"}),e.jsx("input",{type:"range",min:"0",max:"100",defaultValue:"80",className:"w-full max-w-xs"})]})]})]})]})};export{_ as default};
