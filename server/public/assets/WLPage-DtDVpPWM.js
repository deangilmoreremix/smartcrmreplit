import{bw as m,r as o,j as s}from"./index-e3V0CD7Y.js";const p=()=>{const{isDark:n}=m(),i=n?"dark":"light",l=o.useRef(null),[c,d]=o.useState(!1),f="https://moonlit-tarsier-239e70.netlify.app",u="https://moonlit-tarsier-239e70.netlify.app";return o.useEffect(()=>{const e=l.current;if(e){const t=()=>{d(!0)},a=()=>{d(!1)};return e.addEventListener("load",t),e.addEventListener("error",a),()=>{e.removeEventListener("load",t),e.removeEventListener("error",a)}}},[]),o.useEffect(()=>{const e=t=>{if(t.origin!==f||!t.data||typeof t.data!="object")return;const{type:a,data:r}=t.data;switch(a){case"IFRAME_READY":console.log("WL Iframe ready, theme will be sent by dedicated effect");break;case"BUTTON_CLICK":console.log("Button clicked in WL iframe:",r);break;case"NAVIGATION_REQUEST":r?.url&&typeof r.url=="string"&&r.url.startsWith("/")&&(window.location.href=r.url);break}};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[]),o.useEffect(()=>{const e=l.current;e?.contentWindow&&c&&e.contentWindow.postMessage({type:"SET_THEME",theme:i},f)},[i,c]),s.jsx("div",{className:`w-full h-full transition-colors duration-300 ${n?"bg-gray-900":"bg-white"}`,children:s.jsx("iframe",{ref:l,src:`${u}?theme=${i}&mode=light&allowInteraction=true`,style:{width:"100%",height:"100vh",minHeight:"800px",border:"none",display:"block",overflow:"auto",backgroundColor:n?"#1f2937":"#ffffff",transition:"background-color 0.3s ease"},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; pointer-lock",allowFullScreen:!0,loading:"lazy",title:"White Label Platform",scrolling:"yes",sandbox:"allow-scripts allow-forms allow-popups allow-pointer-lock allow-same-origin allow-top-navigation"})})},w=()=>s.jsx("div",{className:"fixed inset-0 z-40",children:s.jsx(p,{})});export{w as default};
