import{j as e,r as s,bt as g,a3 as x,bu as i,bv as w,bw as b}from"./index-e3V0CD7Y.js";const j=()=>{const[a,d]=s.useState(null),[c,m]=s.useState(null),[u,l]=s.useState(!0);if(s.useEffect(()=>{(async()=>{try{console.log("ðŸš€ Attempting Module Federation for Contacts...");const o=new Promise((y,f)=>{setTimeout(()=>f(new Error("Module Federation timeout - remote app may need MF configuration")),3e3)}),h=w("https://taupe-sprinkles-83c9ee.netlify.app","ContactsApp","./ContactsApp"),r=await Promise.race([h,o]),n=r.default||r;d(()=>n),i.registerModule("contacts",n,{contacts:[]}),console.log("âœ… Module Federation Contacts loaded successfully"),l(!1)}catch{console.log("ðŸ“º Module Federation not available, using iframe fallback (remote app needs MF configuration)"),m("Remote app needs Module Federation configuration"),l(!1)}})()},[]),u)return e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading Contacts Module..."})]})});if(c||!a)return e.jsx("iframe",{src:"https://taupe-sprinkles-83c9ee.netlify.app?theme=light&mode=light",className:"w-full h-full border-0",style:{width:"100%",height:"100%",border:"none",margin:0,padding:0},title:"Enhanced Contacts Module",allow:"clipboard-read; clipboard-write; fullscreen; microphone; camera",sandbox:"allow-same-origin allow-scripts allow-forms allow-popups allow-navigation allow-top-navigation",loading:"lazy",onLoad:t=>{t.currentTarget.contentWindow?.postMessage({type:"SET_THEME",theme:"light",mode:"light"},"*")}});const p=g(t=>t.sharedData);return x.createElement(a,{theme:"light",mode:"light",sharedData:p,onDataUpdate:t=>{i.broadcastToAllModules("CONTACTS_DATA_UPDATE",t)}})},v=({showHeader:a=!1})=>e.jsxs("div",{className:"h-full w-full flex flex-col",style:{margin:0,padding:0},"data-testid":"contacts-list",children:[a&&e.jsx("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Enhanced Contacts"}),e.jsxs("div",{className:"flex items-center text-green-600 text-xs",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Module Federation"]})]})}),e.jsx("div",{className:"flex-1 w-full h-full",style:{margin:0,padding:0},children:e.jsx(j,{})})]}),M=()=>{const{isDark:a}=b();return e.jsx("div",{className:"absolute inset-0 w-full overflow-hidden",style:{top:"80px",height:"calc(100vh - 80px)"},children:e.jsx("div",{className:"h-full w-full",children:e.jsx(v,{showHeader:!1})})})};export{M as default};
