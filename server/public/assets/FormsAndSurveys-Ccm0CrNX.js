import{e as A,r as a,j as e,P as C,c as G,an as X,bk as H,cy as J,ae as D,a8 as K,aL as M,a9 as T,X as Q,d as W}from"./index-e3V0CD7Y.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=A("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=A("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),re=()=>{const[g,d]=a.useState({}),[m,o]=a.useState(!1),[p,E]=a.useState(""),[L,x]=a.useState(!1),[y,b]=a.useState(!1),[l,i]=a.useState(null),[z,j]=a.useState(!1),[_,ee]=a.useState(!1),[k,se]=a.useState("lastUpdated"),[f,te]=a.useState("desc"),[u,v]=a.useState(""),[N,w]=a.useState(""),[n,h]=a.useState([]),[c,U]=a.useState("text");a.useEffect(()=>{const s={1:{id:"1",name:"Lead Capture Form",description:"Capture leads from website visitors",fields:[{id:"1",type:"text",label:"Full Name",required:!0},{id:"2",type:"email",label:"Email Address",required:!0},{id:"3",type:"tel",label:"Phone Number",required:!1}],isActive:!0,submissions:142,totalViews:1250,conversionRate:11.4,createdAt:new Date(2024,0,15),lastUpdated:new Date(2024,1,10)},2:{id:"2",name:"Product Interest Survey",description:"Gauge customer interest in new products",fields:[{id:"1",type:"text",label:"Name",required:!0},{id:"2",type:"email",label:"Email",required:!0},{id:"3",type:"select",label:"Product Interest",required:!0,options:["Product A","Product B","Product C"]}],isActive:!1,submissions:67,totalViews:890,conversionRate:7.5,createdAt:new Date(2024,0,20),lastUpdated:new Date(2024,1,5)}};d(s)},[]),a.useEffect(()=>{l?(v(l.name),w(l.description),h([...l.fields])):(v(""),w(""),h([{id:`field-${Date.now()}-1`,type:"text",label:"Full Name",required:!0},{id:`field-${Date.now()}-2`,type:"email",label:"Email Address",required:!0}]))},[l]);const S=Object.values(g).filter(s=>s.name.toLowerCase().includes(p.toLowerCase())||s.description.toLowerCase().includes(p.toLowerCase())).sort((s,t)=>k==="name"?f==="asc"?s.name.localeCompare(t.name):t.name.localeCompare(s.name):k==="submissions"?f==="asc"?s.submissions-t.submissions:t.submissions-s.submissions:f==="asc"?s.lastUpdated.getTime()-t.lastUpdated.getTime():t.lastUpdated.getTime()-s.lastUpdated.getTime()),R=()=>{const s={id:`field-${Date.now()}-${n.length+1}`,type:c,label:`New ${c.charAt(0).toUpperCase()+c.slice(1)} Field`,required:!1};(c==="select"||c==="checkbox"||c==="radio")&&(s.options=["Option 1","Option 2","Option 3"]),h([...n,s])},q=s=>{h(n.filter(t=>t.id!==s))},F=(s,t)=>{h(n.map(r=>r.id===s?{...r,...t}:r))},P=async()=>{if(u){o(!0);try{if(l){const s={...l,name:u,description:N,fields:n,lastUpdated:new Date};d(t=>({...t,[l.id]:s}))}else{const s={id:Date.now().toString(),name:u,description:N,fields:n,isActive:!0,submissions:0,totalViews:0,conversionRate:0,createdAt:new Date,lastUpdated:new Date};d(t=>({...t,[s.id]:s}))}x(!1),b(!1),i(null)}catch(s){console.error("Error saving form:",s)}finally{o(!1)}}},$=async()=>{if(l){o(!0);try{const{[l.id]:s,...t}=g;d(t),j(!1),i(null)}catch(s){console.error("Error deleting form:",s)}finally{o(!1)}}},O=s=>{const t=`${window.location.origin}/forms/public/${s}`;navigator.clipboard.writeText(t),alert("Form URL copied to clipboard")},I=async(s,t)=>{o(!0);try{const r=g[s];if(r){const V={...r,isActive:!t};d(B=>({...B,[s]:V}))}}catch(r){console.error("Error toggling form status:",r)}finally{o(!1)}};return e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[e.jsxs("header",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Forms & Surveys"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Create and manage forms to collect information from your leads and customers"})]}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsxs("button",{onClick:()=>{i(null),x(!0)},className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md transition-colors",children:[e.jsx(C,{size:18,className:"mr-1"}),"Create Form"]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200 mb-6",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"relative max-w-md w-full",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(G,{size:16,className:"text-gray-400"})}),e.jsx("input",{type:"text",placeholder:"Search forms...",value:p,onChange:s=>E(s.target.value),className:"pl-10 pr-4 py-2 w-full border rounded-md focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("div",{className:"relative",children:e.jsxs("button",{className:"flex items-center px-3 py-2 border rounded-md text-sm text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(X,{size:16,className:"mr-1"}),"Sort by",e.jsx(H,{size:16,className:"ml-1"})]})})})]})}),m?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(J,{size:32,className:"mx-auto animate-spin text-blue-600 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Loading forms..."})]}):S.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(D,{size:48,className:"mx-auto text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No forms found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:p?"No forms match your search criteria":"Create your first form to get started"}),e.jsxs("button",{onClick:()=>{i(null),x(!0)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[e.jsx(C,{size:18,className:"mr-1"}),"Create Form"]})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Form Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submissions"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Conversion Rate"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600",children:e.jsx(D,{size:20})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:s.description})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:s.submissions}),e.jsxs("div",{className:"text-xs text-gray-500",children:[s.totalViews," views"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[s.conversionRate,"%"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.lastUpdated.toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>I(s.id,s.isActive),className:"flex items-center",children:s.isActive?e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"ml-1 text-sm text-green-600",children:"Active"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"h-5 w-5 text-gray-400"}),e.jsx("span",{className:"ml-1 text-sm text-gray-500",children:"Inactive"})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>O(s.id),className:"text-gray-400 hover:text-gray-600",title:"Copy form URL",children:e.jsx(K,{size:16})}),e.jsx("button",{onClick:()=>{i(s),b(!0)},className:"text-gray-400 hover:text-blue-600",title:"Edit form",children:e.jsx(M,{size:16})}),e.jsx("button",{onClick:()=>{i(s),j(!0)},className:"text-gray-400 hover:text-red-600",title:"Delete form",children:e.jsx(T,{size:16})})]})})]},s.id))})]})})]}),(L||y)&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold",children:y?"Edit Form":"Create New Form"}),e.jsx("button",{onClick:()=>{x(!1),b(!1),i(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(Q,{size:24})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"formName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Form Name"}),e.jsx("input",{type:"text",id:"formName",value:u,onChange:s=>v(s.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"Enter form name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"formDescription",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{id:"formDescription",value:N,onChange:s=>w(s.target.value),rows:3,className:"w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"Enter form description"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Form Fields"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:c,onChange:s=>U(s.target.value),className:"px-3 py-1 text-sm border rounded-md focus:ring-blue-500 focus:border-blue-500 outline-none",children:[e.jsx("option",{value:"text",children:"Text"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"tel",children:"Phone"}),e.jsx("option",{value:"textarea",children:"Textarea"}),e.jsx("option",{value:"select",children:"Select"}),e.jsx("option",{value:"checkbox",children:"Checkbox"}),e.jsx("option",{value:"radio",children:"Radio"}),e.jsx("option",{value:"number",children:"Number"}),e.jsx("option",{value:"date",children:"Date"})]}),e.jsxs("button",{onClick:R,className:"inline-flex items-center px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700",children:[e.jsx(C,{size:14,className:"mr-1"}),"Add Field"]})]})]}),e.jsx("div",{className:"space-y-4",children:n.map((s,t)=>e.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Label"}),e.jsx("input",{type:"text",value:s.label,onChange:r=>F(s.id,{label:r.target.value}),className:"w-full px-2 py-1 text-sm border rounded-md focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Type"}),e.jsxs("select",{value:s.type,onChange:r=>F(s.id,{type:r.target.value}),className:"w-full px-2 py-1 text-sm border rounded-md focus:ring-blue-500 focus:border-blue-500 outline-none",children:[e.jsx("option",{value:"text",children:"Text"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"tel",children:"Phone"}),e.jsx("option",{value:"textarea",children:"Textarea"}),e.jsx("option",{value:"select",children:"Select"}),e.jsx("option",{value:"checkbox",children:"Checkbox"}),e.jsx("option",{value:"radio",children:"Radio"}),e.jsx("option",{value:"number",children:"Number"}),e.jsx("option",{value:"date",children:"Date"})]})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:s.required,onChange:r=>F(s.id,{required:r.target.checked}),className:"rounded border-gray-300"}),e.jsx("span",{className:"ml-2 text-xs text-gray-700",children:"Required"})]})})]}),e.jsx("button",{onClick:()=>q(s.id),className:"ml-4 text-red-500 hover:text-red-700",children:e.jsx(T,{size:16})})]})},s.id))})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:()=>{x(!1),b(!1),i(null)},className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:P,disabled:!u||m,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:m?"Saving...":y?"Update Form":"Create Form"})]})]})}),z&&l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(W,{className:"h-6 w-6 text-red-600 mr-2"}),e.jsx("h3",{className:"text-lg font-medium",children:"Delete Form"})]}),e.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete "',l.name,'"? This action cannot be undone.']}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{j(!1),i(null)},className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:$,disabled:m,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:m?"Deleting...":"Delete Form"})]})]})})})]})};export{re as default};
