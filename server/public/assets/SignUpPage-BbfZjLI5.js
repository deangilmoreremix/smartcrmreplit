import{aO as $,bw as C,cB as P,r as t,j as e,d as S,b as k,aJ as h,aI as p,L as E}from"./index-e3V0CD7Y.js";const _=()=>{const y=$(),{isDark:a}=C(),{signUp:f}=P(),m=new URLSearchParams(window.location.search).get("app")||"smartcrm",[r,w]=t.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[s,l]=t.useState(!1),[g,n]=t.useState(null),[x,u]=t.useState(null),[i,N]=t.useState(!1),[c,j]=t.useState(!1),v=async d=>{if(d.preventDefault(),l(!0),n(null),u(null),r.password!==r.confirmPassword){n("Passwords do not match"),l(!1);return}if(r.password.length<6){n("Password must be at least 6 characters long"),l(!1);return}const{error:b}=await f(r.email,r.password,{data:{first_name:r.firstName,last_name:r.lastName,full_name:`${r.firstName} ${r.lastName}`.trim(),app_context:m,email_template_set:m}});b?(n(b.message),l(!1)):(u("Account created successfully! Redirecting to your dashboard..."),l(!1),setTimeout(()=>{y("/dashboard")},1500))},o=d=>{w({...r,[d.target.name]:d.target.value})};return e.jsx("div",{className:`min-h-screen ${a?"bg-gray-900":"bg-gray-50"} flex items-center justify-center p-4`,children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:`text-4xl font-bold ${a?"text-white":"text-gray-900"} mb-2`,children:["Smart",e.jsx("span",{className:"text-green-400",children:"CRM"})]}),e.jsx("p",{className:`${a?"text-gray-400":"text-gray-600"}`,children:"Create your account"})]}),e.jsxs("div",{className:`${a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} backdrop-blur-xl border rounded-2xl p-8 shadow-lg`,children:[g&&e.jsxs("div",{className:`mb-4 p-3 rounded-lg ${a?"bg-red-900/20 border-red-800":"bg-red-50 border-red-200"} border flex items-center space-x-2`,children:[e.jsx(S,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:`text-sm ${a?"text-red-400":"text-red-600"}`,children:g})]}),x&&e.jsxs("div",{className:`mb-4 p-3 rounded-lg ${a?"bg-green-900/20 border-green-800":"bg-green-50 border-green-200"} border flex items-center space-x-2`,children:[e.jsx(k,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:`text-sm ${a?"text-green-400":"text-green-600"}`,children:x})]}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-200":"text-gray-700"} mb-2`,children:"First Name"}),e.jsx("input",{type:"text",name:"firstName",value:r.firstName,onChange:o,className:`w-full px-3 py-2 border rounded-lg ${a?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"} focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"First name",disabled:s})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-200":"text-gray-700"} mb-2`,children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",value:r.lastName,onChange:o,className:`w-full px-3 py-2 border rounded-lg ${a?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"} focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"Last name",disabled:s})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-200":"text-gray-700"} mb-2`,children:"Email"}),e.jsx("input",{type:"email",name:"email",value:r.email,onChange:o,className:`w-full px-3 py-2 border rounded-lg ${a?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"} focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"Enter your email",required:!0,disabled:s})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-200":"text-gray-700"} mb-2`,children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:i?"text":"password",name:"password",value:r.password,onChange:o,className:`w-full px-3 py-2 pr-10 border rounded-lg ${a?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"} focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"Create a password",required:!0,disabled:s}),e.jsx("button",{type:"button",onClick:()=>N(!i),className:`absolute inset-y-0 right-0 pr-3 flex items-center ${a?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-700"}`,disabled:s,children:i?e.jsx(h,{className:"h-4 w-4"}):e.jsx(p,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-200":"text-gray-700"} mb-2`,children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:c?"text":"password",name:"confirmPassword",value:r.confirmPassword,onChange:o,className:`w-full px-3 py-2 pr-10 border rounded-lg ${a?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"} focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"Confirm your password",required:!0,disabled:s}),e.jsx("button",{type:"button",onClick:()=>j(!c),className:`absolute inset-y-0 right-0 pr-3 flex items-center ${a?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-700"}`,disabled:s,children:c?e.jsx(h,{className:"h-4 w-4"}):e.jsx(p,{className:"h-4 w-4"})})]})]}),e.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold py-3 px-4 rounded-lg transition-all duration-200",children:s?"Creating Account...":"Create Account"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:`text-sm ${a?"text-gray-400":"text-gray-600"}`,children:["Already have an account?"," ",e.jsx(E,{to:"/signin",className:"text-blue-600 hover:text-blue-500",children:"Sign In"})]})})]})]})})};export{_ as default};
