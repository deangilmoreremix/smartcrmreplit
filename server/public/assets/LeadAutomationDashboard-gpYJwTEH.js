import{bw as le,r as n,j as e,af as ne,ag as ie,ah as g,ai as p,an as re,ab as o,ac as h,b5 as S,ad as u,aj as v,aU as N,b3 as ce,a6 as j,aI as de,aq as xe,aQ as me,aX as oe,b8 as he,b9 as ue,P as je}from"./index-e3V0CD7Y.js";import{I as C}from"./input-CBb2iGdE.js";import{L as t}from"./label-D929QgCh.js";import{T as ge}from"./textarea-Dn_UEKqi.js";import{S as c,a as d,b as x,c as m,d as a}from"./select-D9Wy1FBy.js";import{D as pe,a as ve,b as Ne,c as ye}from"./dialog-CFFKOlnO.js";import{P as y}from"./progress-LGgqPC0t.js";import{u as k}from"./useQuery-BS2P2qdM.js";import{C as fe,g as be}from"./gpt5CommunicationService-LRMAonUn.js";import{G as r}from"./GlassCard-CVEK9RrK.js";function Pe(){const{isDark:we}=le(),[M,V]=n.useState("leads"),[Se,D]=n.useState(!1),[l,L]=n.useState(null),[A,I]=n.useState(!1),[f,R]=n.useState("all"),[b,F]=n.useState("all"),[P,z]=n.useState("high"),[B,$]=n.useState("nurture"),[G,Q]=n.useState("ai-powered"),[H,W]=n.useState("70"),[O,U]=n.useState("enabled"),[K,J]=n.useState("round-robin"),T=[{id:"1",name:"Sarah Johnson",email:"sarah@techcorp.com",company:"TechCorp Inc",status:"qualified",score:85,lastActivity:"2024-01-15",source:"Website",tags:["Enterprise","High-Value"],gpt5Insights:{nextAction:"Schedule product demo",priority:"high",predictedValue:5e4,engagement:.9}},{id:"2",name:"Mike Chen",email:"mike@startup.io",company:"Startup.io",status:"nurturing",score:65,lastActivity:"2024-01-12",source:"LinkedIn",tags:["Startup","Early-Stage"],gpt5Insights:{nextAction:"Send educational content",priority:"medium",predictedValue:15e3,engagement:.7}},{id:"3",name:"Emily Davis",email:"emily@consulting.com",company:"Davis Consulting",status:"new",score:45,lastActivity:"2024-01-10",source:"Referral",tags:["Consulting","Small Business"]}],X=[{id:"1",name:"Enterprise Lead Nurture",status:"active",leads:150,conversionRate:.25,budget:5e3,spent:3200,channels:["Email","LinkedIn","Webinar"]},{id:"2",name:"SMB Awareness Campaign",status:"active",leads:300,conversionRate:.15,budget:3e3,spent:1800,channels:["Email","Social Media","Content"]}],Z={totalLeads:1250,activeCampaigns:8,conversionRate:.22,averageLeadScore:68,monthlyGrowth:.18,aiAccuracy:.89},{data:Y=T,isLoading:Ce}=k({queryKey:["/api/leads"],refetchInterval:3e4}),{data:_=X,isLoading:ke}=k({queryKey:["/api/campaigns"],refetchInterval:3e4}),{data:i=Z,isLoading:Le}=k({queryKey:["/api/automation/stats"],refetchInterval:3e4}),ee=async s=>{I(!0);try{const w=await be.optimizeContent(`Lead: ${s.name} from ${s.company}, Score: ${s.score}, Status: ${s.status}, Tags: ${s.tags.join(", ")}`,"lead-nurturing");console.log("Lead optimization:",w)}catch(w){console.error("Failed to optimize lead strategy:",w)}finally{I(!1)}},q=s=>{switch(s){case"new":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-200";case"contacted":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200";case"qualified":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-200";case"nurturing":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-200";case"converted":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/20 dark:text-emerald-200";case"lost":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}},se=s=>{switch(s){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},ae=[e.jsxs(j,{onClick:()=>D(!0),className:"bg-green-600 hover:bg-green-700",children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"Create Campaign"]},"create-campaign"),e.jsxs(j,{variant:"outline",onClick:()=>ee(T[0]),disabled:A,children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),A?"Optimizing...":"AI Lead Insights"]},"ai-optimize")],te=e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.totalLeads}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Leads"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.activeCampaigns}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Campaigns"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(i.conversionRate*100),"%"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Conversion Rate"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:i.averageLeadScore}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Lead Score"})]})]}),E=Y.filter(s=>!(f!=="all"&&s.status!==f||b!=="all"&&s.source!==b));return e.jsxs(fe,{appName:"AI Lead Nurturing Engine",appDescription:"Intelligent lead scoring, automated nurturing campaigns, and AI-powered conversion optimization",actionButtons:ae,headerStats:te,children:[e.jsxs(ne,{value:M,onValueChange:V,className:"space-y-6",children:[e.jsxs(ie,{className:"grid w-full grid-cols-5",children:[e.jsx(g,{value:"leads",children:"Leads"}),e.jsx(g,{value:"campaigns",children:"Campaigns"}),e.jsx(g,{value:"analytics",children:"Analytics"}),e.jsx(g,{value:"ai-tools",children:"AI Tools"}),e.jsx(g,{value:"settings",children:"Settings"})]}),e.jsxs(p,{value:"leads",className:"space-y-6",children:[e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Filters:"})]}),e.jsxs(c,{value:f,onValueChange:R,children:[e.jsx(d,{className:"w-32",children:e.jsx(x,{})}),e.jsxs(m,{children:[e.jsx(a,{value:"all",children:"All Status"}),e.jsx(a,{value:"new",children:"New"}),e.jsx(a,{value:"contacted",children:"Contacted"}),e.jsx(a,{value:"qualified",children:"Qualified"}),e.jsx(a,{value:"nurturing",children:"Nurturing"}),e.jsx(a,{value:"converted",children:"Converted"})]})]}),e.jsxs(c,{value:b,onValueChange:F,children:[e.jsx(d,{className:"w-32",children:e.jsx(x,{})}),e.jsxs(m,{children:[e.jsx(a,{value:"all",children:"All Sources"}),e.jsx(a,{value:"Website",children:"Website"}),e.jsx(a,{value:"LinkedIn",children:"LinkedIn"}),e.jsx(a,{value:"Referral",children:"Referral"}),e.jsx(a,{value:"Social Media",children:"Social Media"})]})]})]})}),e.jsxs(r,{className:"p-6",children:[e.jsx(o,{className:"px-0 pt-0",children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"Lead Pipeline (",E.length,")"]})}),e.jsx(u,{className:"px-0 pb-0",children:e.jsx("div",{className:"space-y-4",children:E.map(s=>e.jsx(r,{className:"p-4 cursor-pointer hover:border-blue-300",onClick:()=>L(s),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-full ${s.status==="qualified"?"bg-green-100":s.status==="nurturing"?"bg-purple-100":s.status==="new"?"bg-blue-100":"bg-yellow-100"}`,children:e.jsx(S,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.company})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:q(s.status),children:s.status}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold",children:[s.score,"/100"]}),e.jsx("div",{className:"text-sm text-gray-500",children:s.source})]}),s.gpt5Insights&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(N,{className:"h-4 w-4 text-purple-500"}),e.jsx("span",{className:"text-xs text-purple-600",children:"AI"})]})]})]})},s.id))})})]})]}),e.jsx(p,{value:"campaigns",className:"space-y-6",children:e.jsxs(r,{className:"p-6",children:[e.jsx(o,{className:"px-0 pt-0",children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5"}),"Active Campaigns"]})}),e.jsx(u,{className:"px-0 pb-0",children:e.jsx("div",{className:"space-y-4",children:_.map(s=>e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-medium",children:s.name}),e.jsx(v,{className:s.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:s.status})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Leads:"}),e.jsx("span",{className:"font-medium ml-1",children:s.leads})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Conversion:"}),e.jsxs("span",{className:"font-medium ml-1",children:[Math.round(s.conversionRate*100),"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Budget:"}),e.jsxs("span",{className:"font-medium ml-1",children:["$",s.budget]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Spent:"}),e.jsxs("span",{className:"font-medium ml-1",children:["$",s.spent]})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 dark:text-gray-400 mb-1",children:[e.jsx("span",{children:"Budget Used"}),e.jsxs("span",{children:[Math.round(s.spent/s.budget*100),"%"]})]}),e.jsx(y,{value:s.spent/s.budget*100,className:"h-2"})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx(j,{variant:"outline",size:"sm",children:e.jsx(de,{className:"h-4 w-4"})}),e.jsx(j,{variant:"outline",size:"sm",children:e.jsx(xe,{className:"h-4 w-4"})})]})]})},s.id))})})]})}),e.jsx(p,{value:"analytics",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(r,{className:"p-6",children:[e.jsx(o,{className:"px-0 pt-0",children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-5 w-5"}),"Lead Performance"]})}),e.jsx(u,{className:"px-0 pb-0",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Lead Quality Score"}),e.jsxs("span",{className:"font-semibold",children:[i.averageLeadScore,"/100"]})]}),e.jsx(y,{value:i.averageLeadScore,className:"h-2"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"AI Prediction Accuracy"}),e.jsxs("span",{className:"font-semibold",children:[Math.round(i.aiAccuracy*100),"%"]})]}),e.jsx(y,{value:i.aiAccuracy*100,className:"h-2"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Monthly Lead Growth"}),e.jsxs("span",{className:"font-semibold text-green-600",children:["+",Math.round(i.monthlyGrowth*100),"%"]})]}),e.jsx(y,{value:i.monthlyGrowth*100,className:"h-2"})]})})]}),e.jsxs(r,{className:"p-6",children:[e.jsx(o,{className:"px-0 pt-0",children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-5 w-5"}),"Conversion Funnel"]})}),e.jsx(u,{className:"px-0 pb-0",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"New Leads"}),e.jsx("span",{className:"font-semibold",children:"1,250"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Contacted"}),e.jsx("span",{className:"font-semibold",children:"950"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Qualified"}),e.jsx("span",{className:"font-semibold",children:"425"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Converted"}),e.jsx("span",{className:"font-semibold",children:"275"})]})]})})]})]})}),e.jsx(p,{value:"ai-tools",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(r,{className:"p-6",children:[e.jsx(o,{className:"px-0 pt-0",children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-5 w-5"}),"Lead Scoring Engine"]})}),e.jsx(u,{className:"px-0 pb-0",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"lead-name",children:"Lead Name"}),e.jsx(C,{id:"lead-name",placeholder:"Enter lead name",defaultValue:"John Smith"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"company",children:"Company"}),e.jsx(C,{id:"company",placeholder:"Enter company",defaultValue:"TechCorp Inc"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"engagement",children:"Engagement Level"}),e.jsxs(c,{value:P,onValueChange:z,children:[e.jsx(d,{children:e.jsx(x,{})}),e.jsxs(m,{children:[e.jsx(a,{value:"high",children:"High"}),e.jsx(a,{value:"medium",children:"Medium"}),e.jsx(a,{value:"low",children:"Low"})]})]})]}),e.jsxs(j,{className:"w-full",children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),"Calculate Lead Score"]})]})})]}),e.jsxs(r,{className:"p-6",children:[e.jsx(o,{className:"px-0 pt-0",children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5"}),"Automated Sequences"]})}),e.jsx(u,{className:"px-0 pb-0",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"sequence-type",children:"Sequence Type"}),e.jsxs(c,{value:B,onValueChange:$,children:[e.jsx(d,{children:e.jsx(x,{})}),e.jsxs(m,{children:[e.jsx(a,{value:"nurture",children:"Nurture Sequence"}),e.jsx(a,{value:"followup",children:"Follow-up Sequence"}),e.jsx(a,{value:"reengagement",children:"Re-engagement"})]})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"sequence-name",children:"Sequence Name"}),e.jsx(C,{id:"sequence-name",placeholder:"Enter sequence name"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"target-audience",children:"Target Audience"}),e.jsx(ge,{id:"target-audience",placeholder:"Describe target audience...",rows:3})]}),e.jsxs(j,{className:"w-full",variant:"outline",children:[e.jsx(ue,{className:"h-4 w-4 mr-2"}),"Create AI Sequence"]})]})})]})]})}),e.jsx(p,{value:"settings",className:"space-y-6",children:e.jsxs(r,{className:"p-6",children:[e.jsx(o,{className:"px-0 pt-0",children:e.jsx(h,{children:"Lead Automation Settings"})}),e.jsx(u,{className:"px-0 pb-0",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Lead Scoring Model"}),e.jsxs(c,{value:G,onValueChange:Q,children:[e.jsx(d,{children:e.jsx(x,{})}),e.jsxs(m,{children:[e.jsx(a,{value:"ai-powered",children:"AI-Powered"}),e.jsx(a,{value:"rule-based",children:"Rule-Based"}),e.jsx(a,{value:"hybrid",children:"Hybrid"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Auto-qualification Threshold"}),e.jsxs(c,{value:H,onValueChange:W,children:[e.jsx(d,{children:e.jsx(x,{})}),e.jsxs(m,{children:[e.jsx(a,{value:"50",children:"50 points"}),e.jsx(a,{value:"60",children:"60 points"}),e.jsx(a,{value:"70",children:"70 points"}),e.jsx(a,{value:"80",children:"80 points"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Email Automation"}),e.jsxs(c,{value:O,onValueChange:U,children:[e.jsx(d,{children:e.jsx(x,{})}),e.jsxs(m,{children:[e.jsx(a,{value:"enabled",children:"Enabled"}),e.jsx(a,{value:"disabled",children:"Disabled"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Lead Assignment"}),e.jsxs(c,{value:K,onValueChange:J,children:[e.jsx(d,{children:e.jsx(x,{})}),e.jsxs(m,{children:[e.jsx(a,{value:"round-robin",children:"Round Robin"}),e.jsx(a,{value:"workload",children:"Workload Based"}),e.jsx(a,{value:"territory",children:"Territory Based"})]})]})]})]})})]})})]}),l&&e.jsx(pe,{open:!!l,onOpenChange:()=>L(null),children:e.jsxs(ve,{className:"max-w-2xl",children:[e.jsx(Ne,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"Lead Details"]})}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Name"}),e.jsx("div",{className:"font-medium",children:l.name})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Company"}),e.jsx("div",{className:"font-medium",children:l.company})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Email"}),e.jsx("div",{className:"font-medium",children:l.email})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Lead Score"}),e.jsxs("div",{className:"font-medium",children:[l.score,"/100"]})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Status"}),e.jsx(v,{className:q(l.status),children:l.status})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Source"}),e.jsx("div",{className:"font-medium",children:l.source})]})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Tags"}),e.jsx("div",{className:"flex gap-2",children:l.tags.map(s=>e.jsx(v,{variant:"outline",children:s},s))})]}),l.gpt5Insights&&e.jsxs("div",{children:[e.jsxs(t,{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2 flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4 text-purple-500"}),"AI Insights"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:e.jsxs("div",{className:"text-sm text-purple-800 dark:text-purple-200",children:[e.jsx("strong",{children:"Next Action:"})," ",l.gpt5Insights.nextAction]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Priority:"}),e.jsx(v,{className:`ml-2 ${se(l.gpt5Insights.priority)}`,children:l.gpt5Insights.priority})]})}),e.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:e.jsxs("div",{className:"text-sm text-green-800 dark:text-green-200",children:[e.jsx("strong",{children:"Predicted Value:"})," $",l.gpt5Insights.predictedValue.toLocaleString()]})})]})]})]})]})]})})]})}export{Pe as default};
