import{e as q,j as e,r as m,aZ as de,a_ as Q,a$ as oe,c as re,b0 as ze,b1 as Re,aL as Y,a7 as Pe,am as B,aU as pe,d as ve,b2 as Fe,aM as ae,ar as H,U as me,X as ce,b3 as ee,b4 as Ne,ak as $e,C as U,aK as we,aW as he,b as Z,aV as Ee,aI as Ce,a as G,b5 as se,P as W,b6 as be,aY as _e,b7 as Se,b8 as K,b9 as te,aQ as Oe,ba as Ue,bb as He,a9 as ge,a5 as ie,bc as fe,bd as qe,be as Ve,bf as Ge,bg as Be,bh as We,bi as Je,a8 as Ye,bj as Ze,bk as Qe,bl as Xe,bm as Ke,bn as es}from"./index-e3V0CD7Y.js";import{G as ss,S as J}from"./react-select.esm-CqowWsCq.js";import{h as X}from"./http-client.service-dRaZJNDp.js";import{B as ke}from"./building-2-oeS6aeIL.js";import{P as ts}from"./paperclip-nKH9HzHC.js";import{C as as}from"./toConsumableArray-C7t1FJdb.js";import"./cache.service-D8Mcd249.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=q("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=q("FileAudio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=q("Forward",[["polyline",{points:"15 17 20 12 15 7",key:"1w3sku"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=q("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=q("PhoneIncoming",[["polyline",{points:"16 2 16 8 22 8",key:"1ygljm"}],["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=q("PhoneOutgoing",[["polyline",{points:"22 8 22 2 16 2",key:"1g204g"}],["line",{x1:"16",x2:"22",y1:"8",y2:"2",key:"1ggias"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=q("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=q("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=q("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),ms={xs:"w-6 h-6 text-xs",sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-12 h-12 text-lg",xl:"w-16 h-16 text-xl"},xs={online:"bg-green-500",offline:"bg-gray-400",away:"bg-yellow-500",busy:"bg-red-500"},us=({src:s,name:o,size:n="md",status:u,className:g="",showStatus:k=!1})=>{const p=o?o.split(" ").map(A=>A[0]).join("").toUpperCase().slice(0,2):"??",M=ms[n];return e.jsxs("div",{className:`relative inline-block ${g}`,children:[s?e.jsx("img",{src:s,alt:o,className:`${M} rounded-full object-cover border-2 border-gray-200`}):e.jsx("div",{className:`${M} rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold`,children:p}),k&&u&&e.jsx("div",{className:`absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white ${xs[u]}`})]})};class hs{constructor(){this.isMockMode=!1;const o="https://gadedbrnqzpfqtsdfzcg.supabase.co";this.apiUrl=`${o}/functions/v1/gpt5-social-research`,console.log("GPT-5 Social Research Service initialized")}generateMockSocialData(o){const u=["LinkedIn","Twitter","Instagram","TikTok","YouTube","GitHub","Medium","Facebook","Snapchat","Discord","Reddit","Pinterest","Behance","Dribbble","AngelList"].slice(0,Math.floor(Math.random()*8)+3).map(g=>({platform:g,username:`${o.name.toLowerCase().replace(" ","_")}_${g.toLowerCase()}`,url:`https://${g.toLowerCase()}.com/${o.name.toLowerCase().replace(" ","_")}`,verified:Math.random()>.7,followers:Math.floor(Math.random()*1e4)+100,engagement:Math.floor(Math.random()*100)+10,lastActivity:new Date(Date.now()-Math.random()*30*24*60*60*1e3),confidence:Math.floor(Math.random()*30)+70}));return{contactId:o.id,profiles:u,personalityInsights:{traits:{"Communication Style":"Direct and professional","Leadership Approach":"Collaborative","Innovation Focus":"Technology-driven","Risk Tolerance":"Moderate"},communicationStyle:"Professional, data-driven, responds well to detailed proposals",professionalDemeanor:"Confident, analytical, values efficiency",interests:["Technology","Innovation","Leadership","Industry Trends"],expertise:["Business Strategy","Team Leadership","Process Optimization"]},engagementMetrics:{averageEngagement:Math.floor(Math.random()*50)+20,bestPostingTimes:["9:00 AM","1:00 PM","5:00 PM"],preferredContentTypes:["Industry Insights","Case Studies","Professional Updates"],responsePatterns:["Responds within 2 hours during business days","Prefers LinkedIn messaging"]},professionalUpdates:{recentJobChanges:[],companyNews:[{title:"Company announces Q4 growth",date:new Date,relevance:"high"}],achievements:[{title:"Featured in industry publication",date:new Date,platform:"LinkedIn"}],connections:[]},monitoringRecommendations:["Monitor for job change announcements","Track company merger/acquisition news","Watch for industry conference participation"],confidenceScore:Math.floor(Math.random()*30)+70,lastResearched:new Date}}async researchContactSocialMedia(o,n=[],u="comprehensive"){if(console.log(`Starting GPT-5 social research for contact: ${o.name}`),this.isMockMode)return console.log("Using mock GPT-5 social research data"),this.generateMockSocialData(o);try{const g=await X.post(this.apiUrl,{contact:{id:o.id,name:o.name,email:o.email,company:o.company,title:o.title,existingSocialProfiles:o.socialProfiles},researchParams:{platforms:n.length>0?n:["LinkedIn","Twitter","Instagram","TikTok","YouTube","GitHub","Medium","Facebook","Snapchat","Discord","Reddit","Pinterest","Behance","Dribbble","AngelList"],depth:u,includeEngagementMetrics:!0,includePersonalityAnalysis:!0,includeProfessionalUpdates:!0,verifyProfiles:!0}},{timeout:6e4,retries:2,headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdhZGVkYnJucXpwZnF0c2RmemNnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI1NjYxMTUsImV4cCI6MjA1ODE0MjExNX0.bpsk8yRpwQQnYaY4qY3hsW5ExrQe_8JA3UZ51mlQ1e4"}});return console.log(`GPT-5 social research completed for ${o.name}`),g.data}catch(g){return console.error("GPT-5 social research failed:",g),this.generateMockSocialData(o)}}async validateSocialProfile(o,n){if(console.log(`Validating ${o.platform} profile for ${n.name}`),this.isMockMode)return{isValid:Math.random()>.2,confidence:Math.floor(Math.random()*30)+70,reasoning:["Profile name matches contact information","Professional background aligns with contact details","Account activity indicates legitimate profile"]};try{return(await X.post(`${this.apiUrl}/validate-profile`,{profile:o,contact:n},{timeout:3e4})).data}catch(u){return console.error("Profile validation failed:",u),{isValid:!0,confidence:50,reasoning:["Validation service temporarily unavailable"]}}}async getPersonalityInsights(o,n){if(console.log(`Generating personality insights for ${o.name}`),this.isMockMode)return{traits:{"Communication Style":"Direct and concise","Decision Making":"Data-driven","Risk Tolerance":"Moderate to high","Leadership Style":"Collaborative"},communicationPreferences:["Prefers email over phone calls","Responds well to data and metrics","Values concise, well-structured proposals"],optimalApproach:"Lead with quantifiable benefits, provide detailed ROI analysis, follow up with case studies",riskFactors:["May delay decisions if insufficient data provided","Values long-term relationships over quick wins"],opportunities:["Active on LinkedIn - good for professional outreach","Engages with industry content - share relevant insights","Recently promoted - may have new budget authority"]};try{return(await X.post(`${this.apiUrl}/personality-insights`,{contact:o,socialProfiles:n},{timeout:45e3})).data}catch(u){throw console.error("Personality insights generation failed:",u),u}}async setupSocialMonitoring(o,n,u){if(console.log(`Setting up social monitoring for contact: ${o}`),this.isMockMode)return{success:!0,monitoringId:`monitor_${Date.now()}_${Math.random().toString(36).substr(2,9)}`};try{return(await X.post(`${this.apiUrl}/setup-monitoring`,{contactId:o,platforms:n,alertTypes:u},{timeout:3e4})).data}catch(g){throw console.error("Social monitoring setup failed:",g),g}}async getSocialMonitoringAlerts(o){if(this.isMockMode)return[{type:"job_change",contactId:o,platform:"LinkedIn",description:"Updated job title to Senior Director",importance:"high",actionable:!0,suggestedActions:["Congratulate on promotion","Reassess budget authority","Update contact details"],timestamp:new Date(Date.now()-2880*60*1e3)},{type:"new_content",contactId:o,platform:"Twitter",description:"Posted about industry challenges",importance:"medium",actionable:!0,suggestedActions:["Engage with the post","Share relevant solution content"],timestamp:new Date(Date.now()-360*60*1e3)}];try{return(await X.get(`${this.apiUrl}/monitoring-alerts/${o}`)).data}catch(n){return console.error("Failed to fetch monitoring alerts:",n),[]}}async bulkSocialResearch(o,n={}){const{platforms:u=[],depth:g="comprehensive",batchSize:k=3}=n,p=[];for(let M=0;M<o.length;M+=k){const L=o.slice(M,M+k).map(async z=>{try{const S=await this.researchContactSocialMedia(z,u,g);return{contactId:z.id,result:S}}catch(S){return{contactId:z.id,result:null,error:S instanceof Error?S.message:"Unknown error"}}}),T=await Promise.all(L);p.push(...T),M+k<o.length&&await new Promise(z=>setTimeout(z,2e3))}return p}isPlatformSupported(o){return["LinkedIn","Twitter","Instagram","TikTok","YouTube","GitHub","Medium","Facebook","Snapchat","Discord","Reddit","Pinterest","Behance","Dribbble","AngelList","Clubhouse","Telegram"].includes(o)}getRecommendedPlatforms(o){const n=["LinkedIn"];return o.company&&n.push("Twitter","YouTube"),(o.title?.toLowerCase().includes("creative")||o.title?.toLowerCase().includes("design"))&&n.push("Instagram","Behance","Dribbble"),(o.title?.toLowerCase().includes("developer")||o.title?.toLowerCase().includes("engineer"))&&n.push("GitHub","Medium"),n}}const gs=new hs,je={hot:"bg-red-500",medium:"bg-yellow-500",low:"bg-blue-500",cold:"bg-gray-400"},ps={hot:"Hot Client",medium:"Medium Interest",low:"Low Interest",cold:"Non Interest"},bs={LinkedIn:"bg-blue-600",Facebook:"bg-blue-500",Email:"bg-green-500",Website:"bg-purple-500",Referral:"bg-orange-500",Typeform:"bg-pink-500","Cold Call":"bg-gray-600"},fs=s=>s>=80?"bg-green-500":s>=60?"bg-blue-500":s>=40?"bg-yellow-500":"bg-red-500",ys=({contact:s,isSelected:o,onSelect:n,onClick:u,onAnalyze:g,isAnalyzing:k=!1})=>{const[p,M]=m.useState(!1),[A,L]=m.useState(!1),[T,z]=m.useState(!1),[S,P]=m.useState(!1),[x,f]=m.useState(!1),[j,t]=m.useState(!1),[d,D]=m.useState(null),[a,v]=m.useState(!1),[C,i]=m.useState(null),{updateContact:b}=de(),R=h=>{h.target.closest("button")||h.target.closest("input")||u()},_=async h=>{if(h.stopPropagation(),!(k||A)){L(!0),console.log("Starting AI analysis for contact:",s.id);try{await new Promise(F=>setTimeout(F,2e3));const N=Math.floor(Math.random()*40)+60;await b(s.id,{aiScore:N,notes:s.notes?`${s.notes}

AI Analysis: Analysis completed with score ${N}`:`AI Analysis: Analysis completed with score ${N}`}),console.log("AI analysis completed")}catch(N){console.error("AI analysis failed:",N)}finally{L(!1)}}},$=m.useCallback(async()=>{if(s.aiScore){v(!0),i(null);try{await new Promise(F=>setTimeout(F,1e3));const h=s.aiScore;let N="";h>=80?N="High conversion potential based on engagement patterns, company size, and expressed interest level.":h>=60?N="Good engagement potential with positive interaction history and suitable company profile.":h>=40?N="Moderate interest level with some engagement indicators but requires nurturing.":N="Lower priority contact with limited engagement or qualification indicators.",D(N)}catch(h){console.error("Failed to fetch score explanation:",h),i("Failed to fetch explanation.")}finally{v(!1)}}},[s]),l=async h=>{if(h.stopPropagation(),!T){z(!0),console.log("Starting multimodal enrichment for contact:",s.id);try{if(s.avatarSrc){await new Promise(F=>setTimeout(F,2e3));const N={inferredPersonalityTraits:"Professional, analytical, detail-oriented",communicationStyle:"Direct and concise",professionalDemeanor:"Confident and approachable",imageAnalysisNotes:"Professional headshot, formal attire, confident expression"};await b(s.id,N),console.log("Multimodal enrichment completed:",N)}else console.warn("No avatar source found for multimodal enrichment.")}catch(N){console.error("Multimodal enrichment failed:",N)}finally{z(!1)}}},r=async h=>{h.stopPropagation(),P(!0);try{const N={...s,lastContact:s.lastContact?new Date(s.lastContact):new Date},F=await gs.researchContactSocialMedia(N,["LinkedIn","Twitter","Instagram","YouTube","GitHub"],"comprehensive");console.log("Social research completed:",F)}catch(N){console.error("Social research failed:",N)}finally{P(!1)}},c=k||A,I=s.inferredPersonalityTraits||s.communicationStyle||s.professionalDemeanor||s.imageAnalysisNotes;return e.jsxs("div",{onClick:R,className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer group relative border border-gray-200 hover:border-gray-300 overflow-hidden text-gray-900",children:[e.jsx("div",{className:"absolute top-4 left-4 z-10",children:e.jsx("input",{type:"checkbox",checked:o,onChange:h=>{h.stopPropagation(),n()},className:"h-4 w-4 text-blue-600 rounded focus:ring-blue-500 bg-white border-gray-300"})}),e.jsxs("div",{className:"absolute top-4 right-4 flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10",children:[g&&e.jsxs("button",{onClick:_,disabled:c,className:`p-2 rounded-lg transition-all duration-200 relative ${s.aiScore?"bg-purple-100 text-purple-600 hover:bg-purple-200":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:from-blue-600 hover:to-purple-600 shadow-lg"}`,title:s.aiScore?"Re-analyze with AI":"Analyze with AI",children:[c?e.jsx(Q,{className:"w-4 h-4 animate-spin"}):e.jsx(oe,{className:"w-4 h-4"}),!s.aiScore&&!c&&e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-yellow-400 rounded-full animate-pulse"})]}),e.jsx("button",{onClick:r,disabled:S,className:"p-2 rounded-lg transition-all duration-200 bg-blue-500 hover:bg-blue-600 text-white shadow-lg",title:"Social Media Research",children:S?e.jsx(Q,{className:"w-4 h-4 animate-spin"}):e.jsx(re,{className:"w-4 h-4"})}),s.avatarSrc&&e.jsxs("button",{onClick:l,disabled:T,className:`p-2 rounded-lg transition-all duration-200 relative ${I?"bg-indigo-100 text-indigo-600 hover:bg-indigo-200":"bg-gradient-to-r from-pink-500 to-indigo-500 text-white hover:from-pink-600 hover:to-indigo-600 shadow-lg"}`,title:I?"Re-enrich Multimodal":"Multimodal AI Enrichment",children:[T?e.jsx(Q,{className:"w-4 h-4 animate-spin"}):e.jsx(ze,{className:"w-4 h-4"}),!I&&!T&&e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-yellow-400 rounded-full animate-pulse"})]}),e.jsx("button",{onClick:h=>{h.stopPropagation(),f(!0)},className:"p-2 rounded-lg transition-all duration-200 bg-gradient-to-r from-emerald-500 to-teal-500 text-white hover:from-emerald-600 hover:to-teal-600 shadow-lg",title:"Generate Professional Avatar",children:e.jsx(Re,{className:"w-4 h-4"})}),e.jsx("button",{onClick:h=>{h.stopPropagation()},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Y,{className:"w-3 h-3"})}),e.jsx("button",{onClick:h=>{h.stopPropagation()},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Pe,{className:"w-3 h-3"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4 mt-4",children:[e.jsxs("div",{className:"text-center flex-1",children:[e.jsxs("div",{className:"relative inline-block mb-3",children:[e.jsx(us,{src:s.avatarSrc,alt:s.name,size:"lg",status:s.status}),c&&e.jsx("div",{className:"absolute inset-0 bg-black/20 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"})})]}),I&&e.jsxs("div",{className:"mt-2 flex items-center space-x-1",children:[e.jsx(B,{className:"w-3 h-3 text-indigo-500"}),e.jsx("span",{className:"text-xs text-indigo-700 font-medium",children:"Multimodal insights available"})]}),e.jsx("h3",{className:"text-gray-900 font-semibold text-lg mb-1 group-hover:text-blue-600 transition-colors",children:s.name}),e.jsx("p",{className:"text-gray-600 text-sm",children:s.position||s.title}),e.jsx("p",{className:"text-gray-500 text-xs",children:s.company})]}),e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[s.aiScore?e.jsxs("div",{className:`h-12 w-12 rounded-full ${fs(s.aiScore)} text-white flex items-center justify-center font-bold text-lg shadow-lg ring-2 ring-white relative`,onMouseEnter:()=>{t(!0),$()},onMouseLeave:()=>t(!1),children:[s.aiScore,e.jsx(pe,{className:"absolute -top-1 -right-1 w-3 h-3 text-yellow-300"}),j&&e.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-64 p-3 bg-gray-800 text-white text-xs rounded-lg shadow-lg z-20",children:[a?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(Q,{className:"w-4 h-4 animate-spin mr-2"}),e.jsx("span",{children:"Generating explanation..."})]}):C?e.jsxs("div",{className:"flex items-center",children:[e.jsx(ve,{className:"w-4 h-4 text-red-400 mr-2"}),e.jsx("span",{children:C})]}):d?e.jsx("p",{children:d}):e.jsx("p",{children:"Hover to see AI explanation for this score."}),e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-8 border-transparent border-t-gray-800"})]})]}):e.jsxs("button",{onClick:_,disabled:c,className:"h-12 w-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 text-white flex items-center justify-center font-bold text-lg shadow-lg hover:from-blue-600 hover:to-purple-600 transition-all duration-200 hover:scale-110 relative",title:"Click to get AI score",children:[c?e.jsx(Q,{className:"w-5 h-5 animate-spin"}):e.jsx(oe,{className:"w-5 h-5"}),!c&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-yellow-400 rounded-full animate-pulse",children:e.jsx("div",{className:"absolute inset-0 bg-yellow-400 rounded-full animate-ping"})})]}),e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:s.aiScore?"AI Score":"Click to Score"})]})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${je[s.interestLevel]} animate-pulse`}),e.jsx("span",{className:"text-xs text-gray-600 font-medium",children:ps[s.interestLevel]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2 text-center",children:"Source"}),e.jsx("div",{className:"flex justify-center flex-wrap gap-1",children:(s.sources||[s.source]).filter(Boolean).map((h,N)=>e.jsx("span",{className:`
                  ${bs[h]||"bg-gray-600"} 
                  text-white text-xs px-2 py-1 rounded-md font-medium hover:scale-110 transition-transform cursor-pointer
                `,children:h},N))})]}),e.jsx("div",{className:"flex items-center justify-center space-x-1 mb-4",children:Array.from({length:5},(h,N)=>{const F=s.interestLevel==="hot"&&N<5||s.interestLevel==="medium"&&N<3||s.interestLevel==="low"&&N<2||s.interestLevel==="cold"&&N<1;return e.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all duration-300 ${F?`${je[s.interestLevel]} shadow-lg`:"bg-gray-300 hover:bg-gray-400"}`},N)})}),s.aiScore&&e.jsxs("div",{className:"mb-4 p-3 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900 flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-2 text-blue-500"}),"AI Insights"]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{className:"p-1 bg-gray-100 hover:bg-gray-200 rounded text-gray-600",children:e.jsx(ds,{className:"w-3 h-3"})}),e.jsx("button",{className:"p-1 bg-gray-100 hover:bg-gray-200 rounded text-gray-600",children:e.jsx(cs,{className:"w-3 h-3"})})]})]}),e.jsx("p",{className:"text-xs text-gray-900",children:(()=>{const h=s.aiScore||0;return h>=80?"High conversion potential - prioritize for immediate follow-up.":h>=60?"Good engagement potential - schedule follow-up within 48 hours.":h>=40?"Moderate interest - nurture with valuable content.":"Low engagement - consider re-qualification."})()}),e.jsxs("div",{className:"mt-2 flex items-center space-x-1",children:[e.jsx(pe,{className:"w-3 h-3 text-purple-500"}),e.jsx("span",{className:"text-xs text-purple-700 font-medium",children:"AI-powered analysis"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-1.5",children:[e.jsxs("button",{onClick:h=>{h.stopPropagation(),window.open(`mailto:${s.email}`,"_blank")},className:"flex items-center justify-center py-1.5 px-2 bg-gradient-to-r from-blue-50 to-blue-100 text-blue-700 rounded-full hover:from-blue-100 hover:to-blue-200 text-xs font-medium transition-all duration-200 border border-blue-200/50 shadow-sm",children:[e.jsx(ae,{className:"w-3 h-3 mr-1"})," Email"]}),e.jsxs("button",{onClick:h=>{h.stopPropagation(),s.phone&&window.open(`tel:${s.phone}`,"_blank")},className:"flex items-center justify-center py-1.5 px-2 bg-gradient-to-r from-green-50 to-green-100 text-green-700 rounded-full hover:from-green-100 hover:to-green-200 text-xs font-medium transition-all duration-200 border border-green-200/50 shadow-sm",children:[e.jsx(H,{className:"w-3 h-3 mr-1"})," Call"]}),e.jsxs("button",{onClick:h=>{h.stopPropagation(),u()},className:"flex items-center justify-center py-1.5 px-2 bg-gradient-to-r from-purple-50 to-purple-100 text-purple-700 rounded-full hover:from-purple-100 hover:to-purple-200 text-xs font-medium transition-all duration-200 border border-purple-200/50 shadow-sm",children:[e.jsx(me,{className:"w-3 h-3 mr-1"})," View"]})]}),e.jsx("div",{className:"mt-3 text-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:e.jsx("p",{className:"text-xs text-blue-500 font-medium",children:s.aiScore?"Click to view details":"Click AI button to score • Click card for details"})})]}),x&&e.jsx(ss,{open:x,onClose:()=>f(!1)})]})},js=({isOpen:s,onClose:o,onApplyFilters:n,onClearFilters:u,contacts:g,currentFilters:k})=>{const[p,M]=m.useState(k||{status:[],interestLevel:[],industry:[],tags:[],scoreRange:{min:0,max:100},location:[],source:[],isFavorite:void 0,hasCustomFields:void 0,lastContactDays:void 0}),A=t=>g.map(D=>D[t]).filter(D=>typeof D=="string").filter((D,a,v)=>v.indexOf(D)===a),L=()=>g.flatMap(d=>d.tags||[]).filter((d,D,a)=>a.indexOf(d)===D),T=()=>g.flatMap(d=>d.sources||[d.source].filter(Boolean)).filter(d=>typeof d=="string").filter((d,D,a)=>a.indexOf(d)===D),z=[{value:"lead",label:"Lead",color:"purple"},{value:"prospect",label:"Prospect",color:"blue"},{value:"customer",label:"Customer",color:"green"},{value:"churned",label:"Churned",color:"red"}],S=[{value:"hot",label:"Hot",color:"red"},{value:"medium",label:"Medium",color:"yellow"},{value:"low",label:"Low",color:"blue"},{value:"cold",label:"Cold",color:"gray"}],P=()=>{n(p),o()},x=()=>{M({status:[],interestLevel:[],industry:[],tags:[],scoreRange:{min:0,max:100},location:[],source:[],isFavorite:void 0,hasCustomFields:void 0,lastContactDays:void 0}),u()},f=(t,d)=>{M(D=>({...D,[t]:d}))},j={control:t=>({...t,borderColor:"#d1d5db","&:hover":{borderColor:"#9ca3af"},boxShadow:"none",minHeight:"38px"}),multiValue:t=>({...t,backgroundColor:"#f3f4f6",borderRadius:"6px"}),multiValueLabel:t=>({...t,color:"#374151",fontSize:"14px"})};return s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"h-5 w-5 text-blue-600"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Advanced Filters"})]}),e.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ce,{className:"h-5 w-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center",children:[e.jsx(ee,{className:"h-4 w-4 mr-1"}),"Status"]}),e.jsx(J,{isMulti:!0,options:z,value:z.filter(t=>p.status.includes(t.value)),onChange:t=>f("status",t.map(d=>d.value)),placeholder:"Select statuses...",styles:j,className:"text-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center",children:[e.jsx(Ne,{className:"h-4 w-4 mr-1"}),"Interest Level"]}),e.jsx(J,{isMulti:!0,options:S,value:S.filter(t=>p.interestLevel.includes(t.value)),onChange:t=>f("interestLevel",t.map(d=>d.value)),placeholder:"Select interest levels...",styles:j,className:"text-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center",children:[e.jsx(ke,{className:"h-4 w-4 mr-1"}),"Industry"]}),e.jsx(J,{isMulti:!0,options:A("industry").map(t=>({value:t,label:t})),value:p.industry.map(t=>({value:t,label:t})),onChange:t=>f("industry",t.map(d=>d.value)),placeholder:"Select industries...",styles:j,className:"text-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center",children:[e.jsx($e,{className:"h-4 w-4 mr-1"}),"Tags"]}),e.jsx(J,{isMulti:!0,options:L().map(t=>({value:t,label:t})),value:p.tags.map(t=>({value:t,label:t})),onChange:t=>f("tags",t.map(d=>d.value)),placeholder:"Select tags...",styles:j,className:"text-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"AI Score Range"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"range",min:"0",max:"100",value:p.scoreRange.min,onChange:t=>f("scoreRange",{...p.scoreRange,min:parseInt(t.target.value)}),className:"flex-1"}),e.jsx("span",{className:"text-sm text-gray-600 w-12",children:p.scoreRange.min}),e.jsx("span",{className:"text-sm text-gray-400",children:"to"}),e.jsx("input",{type:"range",min:"0",max:"100",value:p.scoreRange.max,onChange:t=>f("scoreRange",{...p.scoreRange,max:parseInt(t.target.value)}),className:"flex-1"}),e.jsx("span",{className:"text-sm text-gray-600 w-12",children:p.scoreRange.max})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Source"}),e.jsx(J,{isMulti:!0,options:T().map(t=>({value:t,label:t})),value:p.source.map(t=>({value:t,label:t})),onChange:t=>f("source",t.map(d=>d.value)),placeholder:"Select sources...",styles:j,className:"text-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center",children:[e.jsx(U,{className:"h-4 w-4 mr-1"}),"Last Contact (Days Ago)"]}),e.jsxs("select",{value:p.lastContactDays||"",onChange:t=>f("lastContactDays",t.target.value?parseInt(t.target.value):void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Any time"}),e.jsx("option",{value:"7",children:"Last 7 days"}),e.jsx("option",{value:"30",children:"Last 30 days"}),e.jsx("option",{value:"90",children:"Last 90 days"}),e.jsx("option",{value:"365",children:"Last year"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center",children:[e.jsx(we,{className:"h-4 w-4 mr-1"}),"Location"]}),e.jsx(J,{isMulti:!0,options:A("location").map(t=>({value:t,label:t})),value:p.location.map(t=>({value:t,label:t})),onChange:t=>f("location",t.map(d=>d.value)),placeholder:"Select locations...",styles:j,className:"text-sm"})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"favorites",checked:p.isFavorite===!0,onChange:t=>f("isFavorite",t.target.checked?!0:void 0),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"favorites",className:"ml-2 text-sm text-gray-700",children:"Favorites only"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"customFields",checked:p.hasCustomFields===!0,onChange:t=>f("hasCustomFields",t.target.checked?!0:void 0),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"customFields",className:"ml-2 text-sm text-gray-700",children:"Has custom fields"})]})]}),e.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[e.jsx("button",{onClick:x,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Clear All"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:o,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-md transition-colors",children:"Cancel"}),e.jsx("button",{onClick:P,className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors",children:"Apply Filters"})]})]})]})]})}):null},Me=({selectedContact:s})=>{const{contacts:o}=de(),[n,u]=m.useState({to:s?.email||"",cc:"",bcc:"",subject:"",body:"",priority:"normal",sendLater:!1,scheduledTime:"",trackOpens:!0,trackClicks:!0}),[g,k]=m.useState([]),[p,M]=m.useState(!1),[A,L]=m.useState(!1),[T,z]=m.useState(!1),[S,P]=m.useState(!1),x=m.useRef(null),f=[{id:"1",name:"Cold Outreach",subject:"Quick question about {{company}}",body:`Hi {{firstName}},

I hope this email finds you well. I came across {{company}} and was impressed by your work in {{industry}}.

I'd love to learn more about your current challenges with [specific area] and share how we might be able to help.

Would you be open to a brief 15-minute call this week?

Best regards,
[Your Name]`,category:"cold_outreach"},{id:"2",name:"Follow Up",subject:"Following up on our conversation",body:`Hi {{firstName}},

I wanted to follow up on our conversation about {{topic}}. 

As discussed, I'm attaching some additional information that might be helpful for your evaluation.

Please let me know if you have any questions or if you'd like to schedule a follow-up call.

Best regards,
[Your Name]`,category:"follow_up"},{id:"3",name:"Meeting Request",subject:"Meeting request - {{topic}}",body:`Hi {{firstName}},

I hope you're doing well. I'd like to schedule a meeting to discuss {{topic}} and how we can support {{company}}'s goals.

Would any of the following times work for you?
- Option 1: [Date/Time]
- Option 2: [Date/Time]  
- Option 3: [Date/Time]

Please let me know what works best for your schedule.

Looking forward to our conversation.

Best regards,
[Your Name]`,category:"meeting_request"}],j=async()=>{if(recipient){M(!0);try{await new Promise(R=>setTimeout(R,2e3));const i=`Personalized outreach for ${recipient.company||"your business"}`,b=`Hi ${recipient.firstName||recipient.name.split(" ")[0]},

I hope this message finds you well. I've been following ${recipient.company||"your work"} and I'm impressed by your position as ${recipient.position||"a leader"} in the ${recipient.industry||"industry"}.

Based on your background and ${recipient.company||"your company"}'s focus, I believe there might be some interesting opportunities for collaboration.

Would you be open to a brief conversation to explore potential synergies?

Best regards,
[Your Name]`;u(R=>({...R,subject:i,body:b}))}catch(i){console.error("Failed to generate AI content:",i)}finally{M(!1)}}},t=i=>{if(!recipient)return;let b=i.subject,R=i.body;const _={"{{firstName}}":recipient.firstName||recipient.name.split(" ")[0]||"there","{{lastName}}":recipient.lastName||recipient.name.split(" ").slice(1).join(" ")||"","{{company}}":recipient.company||"your organization","{{industry}}":recipient.industry||"your field","{{position}}":recipient.position||"your role","{{topic}}":"our discussion"};Object.entries(_).forEach(([$,l])=>{b=b.replace(new RegExp($,"g"),l),R=R.replace(new RegExp($,"g"),l)}),u($=>({...$,subject:b,body:R})),P(!1)},d=i=>{const b=Array.from(i.target.files||[]);k(R=>[...R,...b])},D=i=>{k(b=>b.filter((R,_)=>_!==i))},a=async()=>{try{await new Promise(i=>setTimeout(i,500)),L(!0),setTimeout(()=>L(!1),2e3)}catch(i){console.error("Failed to save draft:",i)}},v=async()=>{try{if(!n.to||!n.subject||!n.body){alert("Please fill in all required fields");return}await new Promise(i=>setTimeout(i,1e3)),recipient&&console.log("Email sent to:",recipient.name),onClose()}catch(i){console.error("Failed to send email:",i)}},C=async()=>{if(!n.scheduledTime){alert("Please select a time to schedule the email");return}try{await new Promise(i=>setTimeout(i,500)),alert(`Email scheduled for ${new Date(n.scheduledTime).toLocaleString()}`),onClose()}catch(i){console.error("Failed to schedule email:",i)}};return isOpen?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(he,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:mode==="compose"?"Compose Email":mode==="reply"?"Reply":"Forward Email"}),recipient&&e.jsxs("p",{className:"text-sm text-gray-600",children:["To: ",recipient.name," (",recipient.email,")"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:a,className:`inline-flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${A?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[A?e.jsx(Z,{size:16,className:"mr-1"}):e.jsx(Ee,{size:16,className:"mr-1"}),A?"Saved":"Save Draft"]}),e.jsx("button",{onClick:onClose,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ce,{className:"h-5 w-5 text-gray-500"})})]})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To *"}),e.jsx("input",{type:"email",value:n.to,onChange:i=>u(b=>({...b,to:i.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"recipient@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CC"}),e.jsx("input",{type:"email",value:n.cc,onChange:i=>u(b=>({...b,cc:i.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"cc@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"BCC"}),e.jsx("input",{type:"email",value:n.bcc,onChange:i=>u(b=>({...b,bcc:i.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"bcc@example.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject *"}),e.jsx("input",{type:"text",value:n.subject,onChange:i=>u(b=>({...b,subject:i.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Email subject",required:!0})]}),e.jsxs("div",{className:"flex items-center space-x-3 py-2",children:[e.jsxs("button",{onClick:j,disabled:p||!recipient,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-purple-700 bg-purple-100 hover:bg-purple-200 rounded-md transition-colors disabled:opacity-50",children:[e.jsx(oe,{size:16,className:"mr-1"}),p?"Generating...":"AI Generate"]}),e.jsxs("button",{onClick:()=>P(!S),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-blue-700 bg-blue-100 hover:bg-blue-200 rounded-md transition-colors",children:[e.jsx(Ce,{size:16,className:"mr-1"}),"Templates"]}),e.jsxs("button",{onClick:()=>z(!T),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-green-700 bg-green-100 hover:bg-green-200 rounded-md transition-colors",children:[e.jsx(G,{size:16,className:"mr-1"}),"Schedule"]})]}),S&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Email Templates"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:f.map(i=>e.jsxs("button",{onClick:()=>t(i),className:"text-left p-3 bg-white rounded-md border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[e.jsx("div",{className:"font-medium text-sm text-gray-900",children:i.name}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:i.subject})]},i.id))})]}),T&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Schedule Email"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"datetime-local",value:n.scheduledTime,onChange:i=>u(b=>({...b,scheduledTime:i.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsxs("label",{className:"flex items-center text-sm text-gray-700",children:[e.jsx("input",{type:"checkbox",checked:n.sendLater,onChange:i=>u(b=>({...b,sendLater:i.target.checked})),className:"mr-2"}),"Send at scheduled time"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message *"}),e.jsx("textarea",{value:n.body,onChange:i=>u(b=>({...b,body:i.target.value})),rows:12,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Write your message here...",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attachments"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>x.current?.click(),className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(ts,{size:16,className:"mr-1"}),"Add Attachment"]}),e.jsx("input",{ref:x,type:"file",multiple:!0,onChange:d,className:"hidden"}),g.length>0&&e.jsx("div",{className:"space-y-2",children:g.map((i,b)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border",children:[e.jsx("span",{className:"text-sm text-gray-700",children:i.name}),e.jsx("button",{onClick:()=>D(b),className:"text-red-600 hover:text-red-800",children:e.jsx(ce,{size:16})})]},b))})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Email Options"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Priority"}),e.jsxs("select",{value:n.priority,onChange:i=>u(b=>({...b,priority:i.target.value})),className:"px-3 py-1 border border-gray-300 rounded text-sm",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"high",children:"High"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Track email opens"}),e.jsx("input",{type:"checkbox",checked:n.trackOpens,onChange:i=>u(b=>({...b,trackOpens:i.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Track link clicks"}),e.jsx("input",{type:"checkbox",checked:n.trackClicks,onChange:i=>u(b=>({...b,trackClicks:i.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(se,{size:16}),e.jsx("span",{children:"Sending as: your-email@company.com"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:onClose,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-md transition-colors",children:"Cancel"}),n.sendLater&&n.scheduledTime&&e.jsxs("button",{onClick:C,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md transition-colors",children:[e.jsx(U,{size:16,className:"inline mr-1"}),"Schedule Email"]}),e.jsxs("button",{onClick:v,className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors",children:[e.jsx(he,{size:16,className:"inline mr-1"}),n.sendLater?"Send Later":"Send Now"]})]})]})]})}):null},vs=({selectedContact:s,onContactSelect:o})=>{const{contacts:n}=de(),[u,g]=m.useState(!1),[k,p]=m.useState(""),[M,A]=m.useState("all"),[L,T]=m.useState("timeline"),[z]=m.useState([{id:"1",type:"email",contactId:"1",subject:"Re: Enterprise Solutions Discussion",content:"Thank you for your interest in our enterprise solutions. I've attached the detailed proposal for your review.",timestamp:new Date("2024-01-20T10:30:00"),direction:"outgoing",status:"read",priority:"high"},{id:"2",type:"call",contactId:"1",content:"Discussed pricing and implementation timeline. Follow-up meeting scheduled.",timestamp:new Date("2024-01-19T14:15:00"),direction:"outgoing",status:"delivered",duration:25},{id:"3",type:"meeting",contactId:"2",subject:"Q3 Planning Meeting",content:"Quarterly planning session to discuss marketing initiatives and budget allocation.",timestamp:new Date("2024-01-18T09:00:00"),direction:"outgoing",status:"delivered",duration:60},{id:"4",type:"email",contactId:"4",subject:"Welcome to our CRM platform",content:"Welcome! We're excited to have you on board. Here's everything you need to get started.",timestamp:new Date("2024-01-17T16:45:00"),direction:"outgoing",status:"delivered"},{id:"5",type:"note",contactId:"3",content:"Contact expressed interest in upgrading to premium plan. Needs approval from finance team.",timestamp:new Date("2024-01-16T11:20:00"),direction:"outgoing",status:"delivered"}]),S=Object.values(n),P=z.filter(a=>{const v=!s||a.contactId===s.id,C=M==="all"||a.type===M,i=!k||a.content.toLowerCase().includes(k.toLowerCase())||a.subject?.toLowerCase().includes(k.toLowerCase());return v&&C&&i}),x=P.reduce((a,v)=>{const C=S.find(i=>i.id===v.contactId);return C&&(a[C.id]||(a[C.id]={contact:C,activities:[]}),a[C.id].activities.push(v)),a},{}),f=a=>{switch(a){case"email":return e.jsx(ae,{size:16,className:"text-blue-600"});case"call":return e.jsx(H,{size:16,className:"text-green-600"});case"video_call":return e.jsx(Se,{size:16,className:"text-purple-600"});case"meeting":return e.jsx(U,{size:16,className:"text-orange-600"});case"note":return e.jsx(B,{size:16,className:"text-gray-600"});case"sms":return e.jsx(B,{size:16,className:"text-indigo-600"});default:return e.jsx(B,{size:16,className:"text-gray-600"})}},j=a=>{switch(a){case"sent":case"delivered":return e.jsx(Z,{size:14,className:"text-green-500"});case"read":return e.jsx(Z,{size:14,className:"text-blue-500"});case"failed":return e.jsx(ve,{size:14,className:"text-red-500"});case"scheduled":return e.jsx(G,{size:14,className:"text-yellow-500"});default:return null}},t=a=>{switch(a){case"high":return"border-l-red-500";case"normal":return"border-l-blue-500";case"low":return"border-l-gray-500";default:return"border-l-gray-300"}},d=a=>{switch(a){case"email":g(!0);break;case"call":s?.phone&&window.open(`tel:${s.phone}`,"_blank");break;case"meeting":console.log("Schedule meeting with",s?.name);break}},D=(a,v)=>{switch(v){case"reply":a.type==="email"&&g(!0);break;case"forward":a.type==="email"&&g(!0);break;case"archive":console.log("Archive activity:",a.id);break}};return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(B,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Communication Hub"}),e.jsx("p",{className:"text-sm text-gray-600",children:s?`Communications with ${s.name}`:`${P.length} total communications`})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:s&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("button",{onClick:()=>d("email"),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-blue-700 bg-blue-100 hover:bg-blue-200 rounded-md transition-colors",children:[e.jsx(ae,{size:16,className:"mr-1"}),"Email"]}),e.jsxs("button",{onClick:()=>d("call"),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-green-700 bg-green-100 hover:bg-green-200 rounded-md transition-colors",children:[e.jsx(H,{size:16,className:"mr-1"}),"Call"]}),e.jsxs("button",{onClick:()=>d("meeting"),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-orange-700 bg-orange-100 hover:bg-orange-200 rounded-md transition-colors",children:[e.jsx(U,{size:16,className:"mr-1"}),"Meeting"]})]})})]}),e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[e.jsxs("div",{className:"relative flex-1 sm:mr-4",children:[e.jsx(re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx("input",{type:"text",placeholder:"Search communications...",value:k,onChange:a=>p(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("select",{value:M,onChange:a=>A(a.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"call",children:"Calls"}),e.jsx("option",{value:"meeting",children:"Meetings"}),e.jsx("option",{value:"note",children:"Notes"})]}),e.jsxs("div",{className:"flex border border-gray-300 rounded-md",children:[e.jsx("button",{onClick:()=>T("timeline"),className:`px-3 py-2 text-sm font-medium ${L==="timeline"?"bg-blue-50 text-blue-600 border-r border-blue-200":"text-gray-600 hover:bg-gray-50 border-r border-gray-300"}`,children:"Timeline"}),e.jsx("button",{onClick:()=>T("grouped"),className:`px-3 py-2 text-sm font-medium ${L==="grouped"?"bg-blue-50 text-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:"Grouped"})]})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:P.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(B,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No communications found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:s?`Start a conversation with ${s.name}`:"No communications match your current filters"}),s&&e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:()=>g(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),"Send Email"]})})]}):L==="timeline"?e.jsx("div",{className:"divide-y divide-gray-200",children:P.map(a=>{const v=S.find(C=>C.id===a.contactId);return v?e.jsx("div",{className:`p-4 hover:bg-gray-50 cursor-pointer border-l-4 ${t(a.priority)}`,onClick:()=>console.log("View activity:",a.id),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:f(a.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:a.type.charAt(0).toUpperCase()+a.type.slice(1)}),a.direction==="incoming"&&e.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Incoming"}),a.priority==="high"&&e.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded-full",children:"High Priority"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[j(a.status),e.jsx("span",{className:"text-xs text-gray-500",children:be(new Date(a.timestamp),{addSuffix:!0})})]})]}),e.jsx("div",{className:"mt-1",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(me,{size:14,className:"mr-1"}),e.jsx("span",{className:"font-medium",children:v.name}),v.company&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-1",children:"•"}),e.jsx(ke,{size:14,className:"mr-1"}),e.jsx("span",{children:v.company})]})]})}),a.subject&&e.jsx("div",{className:"mt-2 text-sm font-medium text-gray-900",children:a.subject}),e.jsx("div",{className:"mt-1 text-sm text-gray-600 line-clamp-2",children:a.content}),a.duration&&e.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Duration: ",a.duration," minutes"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 ml-3",children:[a.type==="email"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:C=>{C.stopPropagation(),D(a,"reply")},className:"p-1 text-gray-400 hover:text-blue-600 rounded",title:"Reply",children:e.jsx(_e,{size:14})}),e.jsx("button",{onClick:C=>{C.stopPropagation(),D(a,"forward")},className:"p-1 text-gray-400 hover:text-blue-600 rounded",title:"Forward",children:e.jsx(ls,{size:14})})]}),e.jsx("button",{onClick:C=>{C.stopPropagation(),D(a,"archive")},className:"p-1 text-gray-400 hover:text-orange-600 rounded",title:"Archive",children:e.jsx(rs,{size:14})})]})]})},a.id):null})}):e.jsx("div",{className:"divide-y divide-gray-200",children:Object.values(x).map(({contact:a,activities:v})=>e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 cursor-pointer hover:bg-gray-50 p-2 rounded",onClick:()=>o?.(a),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[a.avatar?e.jsx("img",{src:a.avatar,alt:a.name,className:"h-8 w-8 rounded-full"}):e.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-semibold",children:a.name.split(" ").map(C=>C[0]).join("").toUpperCase()})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:a.name}),a.company&&e.jsx("div",{className:"text-sm text-gray-600",children:a.company})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[v.length," communication",v.length!==1?"s":""]})]}),e.jsxs("div",{className:"ml-11 space-y-2",children:[v.slice(0,3).map(C=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded cursor-pointer hover:bg-gray-100",onClick:()=>console.log("View activity:",C.id),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[f(C.type),e.jsx("span",{className:"text-sm text-gray-900",children:C.subject||C.content})]}),e.jsx("span",{className:"text-xs text-gray-500",children:be(new Date(C.timestamp),{addSuffix:!0})})]},C.id)),v.length>3&&e.jsx("div",{className:"text-center",children:e.jsxs("button",{className:"text-sm text-blue-600 hover:text-blue-700",children:["View ",v.length-3," more communications"]})})]})]},a.id))})}),e.jsx(Me,{isOpen:u,onClose:()=>g(!1),recipient:s})]})},Ns=()=>{const{contacts:s,updateContact:o}=de(),[n,u]=m.useState([{id:"1",name:"Welcome New Leads",description:"Send welcome email to new leads and schedule follow-up",trigger:{type:"contact_added",conditions:{status:"lead"}},actions:[{type:"send_email",config:{templateId:"welcome_lead",delay:0}},{type:"create_task",config:{title:"Follow up with new lead",delay:24}}],isActive:!0,successCount:45,failureCount:2,createdAt:new Date("2024-01-01"),nextRun:new Date(Date.now()+36e5)},{id:"2",name:"High-Value Contact Scoring",description:"Auto-tag and notify when contact score exceeds 80",trigger:{type:"score_changed",conditions:{scoreThreshold:80}},actions:[{type:"add_tag",config:{tag:"High Priority"}},{type:"send_notification",config:{message:"High-value contact identified",recipient:"sales_team"}}],isActive:!0,successCount:12,failureCount:0,createdAt:new Date("2024-01-05")},{id:"3",name:"Inactive Contact Re-engagement",description:"Re-engage contacts with no activity in 30 days",trigger:{type:"time_based",conditions:{inactiveDays:30}},actions:[{type:"send_email",config:{templateId:"reengagement",delay:0}},{type:"update_field",config:{field:"tags",value:"Re-engagement Campaign"}}],isActive:!1,successCount:8,failureCount:1,createdAt:new Date("2024-01-10")}]),[g,k]=m.useState(!1),[p,M]=m.useState(null),[A]=m.useState({totalRules:n.length,activeRules:n.filter(x=>x.isActive).length,totalExecutions:n.reduce((x,f)=>x+f.successCount+f.failureCount,0),successRate:95.2,timeSaved:24.5}),L=x=>{u(f=>f.map(j=>j.id===x?{...j,isActive:!j.isActive}:j))},T=x=>{confirm("Are you sure you want to delete this automation rule?")&&u(f=>f.filter(j=>j.id!==x))},z=async x=>{try{console.log("Running automation rule:",x.name),u(f=>f.map(j=>j.id===x.id?{...j,successCount:j.successCount+1,lastRun:new Date}:j)),alert(`Automation rule "${x.name}" executed successfully!`)}catch(f){console.error("Failed to execute rule:",f),alert("Failed to execute automation rule")}},S=x=>{switch(x){case"contact_added":return e.jsx(se,{className:"h-4 w-4 text-green-600"});case"contact_updated":return e.jsx(Y,{className:"h-4 w-4 text-blue-600"});case"score_changed":return e.jsx(ee,{className:"h-4 w-4 text-purple-600"});case"time_based":return e.jsx(G,{className:"h-4 w-4 text-orange-600"});case"activity_completed":return e.jsx(Z,{className:"h-4 w-4 text-indigo-600"});default:return e.jsx(K,{className:"h-4 w-4 text-gray-600"})}},P=x=>{switch(x){case"send_email":return e.jsx(ae,{className:"h-3 w-3 text-blue-500"});case"schedule_call":return e.jsx(H,{className:"h-3 w-3 text-green-500"});case"create_task":return e.jsx(U,{className:"h-3 w-3 text-orange-500"});case"send_notification":return e.jsx(fe,{className:"h-3 w-3 text-purple-500"});case"add_tag":return e.jsx(ee,{className:"h-3 w-3 text-indigo-500"});case"update_field":return e.jsx(Y,{className:"h-3 w-3 text-gray-500"});default:return e.jsx(K,{className:"h-3 w-3 text-gray-500"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contact Automation"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Automate repetitive tasks and workflows"})]}),e.jsxs("button",{onClick:()=>k(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md transition-colors",children:[e.jsx(W,{size:18,className:"mr-1"}),"Create Rule"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(K,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Rules"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A.totalRules})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(te,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Rules"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A.activeRules})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(Oe,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Success Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[A.successRate,"%"]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(G,{className:"h-6 w-6 text-orange-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Time Saved"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[A.timeSaved,"h"]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Automation Rules"})}),e.jsx("div",{className:"divide-y divide-gray-200",children:n.map(x=>e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[S(x.trigger.type),e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:x.name})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:x.isActive?"Active":"Inactive"})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:x.description}),e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Trigger:"})," ",x.trigger.type.replace("_"," "),x.trigger.conditions&&e.jsxs("span",{className:"ml-2 text-gray-500",children:["(",Object.entries(x.trigger.conditions).map(([f,j])=>`${f}: ${j}`).join(", "),")"]})]})}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:e.jsx("span",{className:"font-medium",children:"Actions:"})}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:x.actions.map((f,j)=>e.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-gray-100 rounded-md text-xs text-gray-700",children:[P(f.type),e.jsx("span",{className:"ml-1",children:f.type.replace("_"," ")})]},j))})]}),e.jsxs("div",{className:"mt-4 flex items-center space-x-6 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Z,{className:"h-4 w-4 text-green-500"}),e.jsxs("span",{children:[x.successCount," successful"]})]}),x.failureCount>0&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ue,{className:"h-4 w-4 text-red-500"}),e.jsxs("span",{children:[x.failureCount," failed"]})]}),x.lastRun&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(G,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{children:["Last run: ",x.lastRun.toLocaleDateString()]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsxs("button",{onClick:()=>z(x),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-blue-700 bg-blue-100 hover:bg-blue-200 rounded-md transition-colors",children:[e.jsx(te,{size:14,className:"mr-1"}),"Run Now"]}),e.jsx("button",{onClick:()=>L(x.id),className:`inline-flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${x.isActive?"text-orange-700 bg-orange-100 hover:bg-orange-200":"text-green-700 bg-green-100 hover:bg-green-200"}`,children:x.isActive?e.jsxs(e.Fragment,{children:[e.jsx(He,{size:14,className:"mr-1"}),"Pause"]}):e.jsxs(e.Fragment,{children:[e.jsx(te,{size:14,className:"mr-1"}),"Activate"]})}),e.jsxs("button",{onClick:()=>M(x),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:[e.jsx(Y,{size:14,className:"mr-1"}),"Edit"]}),e.jsxs("button",{onClick:()=>T(x.id),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-red-700 bg-red-100 hover:bg-red-200 rounded-md transition-colors",children:[e.jsx(ge,{size:14,className:"mr-1"}),"Delete"]})]})]})},x.id))}),n.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(K,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No automation rules"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating your first automation rule"}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:()=>k(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),"Create Automation Rule"]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("button",{className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(ae,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{className:"ml-3 text-left",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Email Sequence"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Create automated email campaigns"})]}),e.jsx(ie,{className:"h-5 w-5 text-gray-400 ml-auto"})]}),e.jsxs("button",{className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(ee,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{className:"ml-3 text-left",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Lead Scoring"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Auto-score contacts based on behavior"})]}),e.jsx(ie,{className:"h-5 w-5 text-gray-400 ml-auto"})]}),e.jsxs("button",{className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(fe,{className:"h-5 w-5 text-orange-600"})}),e.jsxs("div",{className:"ml-3 text-left",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Follow-up Reminders"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Never miss a follow-up opportunity"})]}),e.jsx(ie,{className:"h-5 w-5 text-gray-400 ml-auto"})]})]})]}),g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Create Automation Rule"}),e.jsx("p",{className:"text-gray-600",children:"Automation rule creation interface would be implemented here with form fields for triggers, conditions, and actions."}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-md",children:"Cancel"}),e.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md",children:"Create Rule"})]})]})})]})},ws=()=>{const[s,o]=m.useState([{id:"1",contactId:"1",contactName:"John Smith",contactPhone:"+1 (555) 123-4567",type:"outgoing",status:"completed",startTime:new Date(Date.now()-18e5),endTime:new Date(Date.now()-12e5),duration:600,recording:{url:"/recordings/call-1.mp3",duration:600,size:5242880,transcription:"Discussed project requirements and next steps. Client is interested in our proposal."},notes:"Very positive call. Client excited about our proposal. Scheduled follow-up for next week.",outcome:"successful",tags:["hot-lead","proposal-discussed"],mood:"positive",followUpDate:new Date(Date.now()+6048e5),createdBy:"John Doe",isStarred:!0},{id:"2",contactId:"2",contactName:"Jane Wilson",contactPhone:"+1 (555) 987-6543",type:"incoming",status:"missed",startTime:new Date(Date.now()-36e5),duration:0,notes:"Missed call - need to call back",outcome:"no_answer",tags:["callback-needed"],mood:"neutral",createdBy:"System",isStarred:!1},{id:"3",contactId:"3",contactName:"Mike Johnson",contactPhone:"+1 (555) 456-7890",type:"outgoing",status:"voicemail",startTime:new Date(Date.now()-72e5),endTime:new Date(Date.now()-708e4),duration:120,notes:"Left voicemail about product demo opportunity",outcome:"voicemail",tags:["demo-interest"],mood:"neutral",createdBy:"John Doe",isStarred:!1}]),[n,u]=m.useState(!1),[g,k]=m.useState(null),[p,M]=m.useState(0),[A,L]=m.useState(!1),[T,z]=m.useState(!1),[S,P]=m.useState(""),[x,f]=m.useState("all"),[j,t]=m.useState("all"),[d,D]=m.useState(null),a=m.useRef(null),[v]=m.useState({totalCalls:s.length,totalDuration:s.reduce((r,c)=>r+c.duration,0),averageDuration:s.reduce((r,c)=>r+c.duration,0)/s.length,successRate:s.filter(r=>r.outcome==="successful").length/s.length*100,todaysCalls:s.filter(r=>r.startTime.toDateString()===new Date().toDateString()).length,weekCalls:s.filter(r=>r.startTime>=new Date(Date.now()-10080*60*1e3)).length,monthCalls:s.filter(r=>r.startTime>=new Date(Date.now()-720*60*60*1e3)).length}),C=()=>{if(a.current&&clearInterval(a.current),g){const r={...g,id:Date.now().toString(),endTime:new Date,duration:p};o(c=>[r,...c])}u(!1),k(null),M(0),L(!1),z(!1)},i=()=>{L(!A)},b=()=>{z(!T)},R=r=>{const c=Math.floor(r/60),I=r%60;return`${c}:${I.toString().padStart(2,"0")}`},_=(r,c)=>{if(c==="missed")return e.jsx(ns,{className:"h-4 w-4 text-red-500"});switch(r){case"incoming":return e.jsx(is,{className:"h-4 w-4 text-green-600"});case"outgoing":return e.jsx(os,{className:"h-4 w-4 text-blue-600"});default:return e.jsx(H,{className:"h-4 w-4 text-gray-600"})}},$=r=>{switch(r){case"successful":return"bg-green-100 text-green-800";case"follow_up_needed":return"bg-yellow-100 text-yellow-800";case"not_interested":return"bg-red-100 text-red-800";case"voicemail":return"bg-blue-100 text-blue-800";case"no_answer":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},l=s.filter(r=>{const c=r.contactName.toLowerCase().includes(S.toLowerCase())||r.contactPhone.includes(S)||r.notes.toLowerCase().includes(S.toLowerCase()),I=x==="all"||r.type===x,h=j==="all"||r.outcome===j;return c&&I&&h});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Call Logging"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage all your phone communications"})]}),e.jsxs("button",{onClick:()=>console.log("Log Call modal would open"),className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md transition-colors",children:[e.jsx(W,{size:18,className:"mr-1"}),"Log Call"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(H,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Calls"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.totalCalls})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(G,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Time"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:R(v.totalDuration)})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(ee,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Success Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[v.successRate.toFixed(1),"%"]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(U,{className:"h-6 w-6 text-orange-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Week"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.weekCalls})]})]})})]}),n&&g&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg shadow-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-white bg-opacity-20 rounded-full",children:e.jsx(me,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold",children:g.contactName}),e.jsx("p",{className:"text-blue-100",children:g.contactPhone}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsx("span",{className:"text-lg font-mono",children:R(p)})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:b,className:`p-3 rounded-full transition-colors ${T?"bg-red-500 hover:bg-red-600":"bg-white bg-opacity-20 hover:bg-opacity-30"}`,children:T?e.jsx(Ve,{className:"h-5 w-5"}):e.jsx(Ge,{className:"h-5 w-5"})}),e.jsx("button",{onClick:i,className:`p-3 rounded-full transition-colors ${A?"bg-red-500 hover:bg-red-600":"bg-white bg-opacity-20 hover:bg-opacity-30"}`,children:A?e.jsx(Be,{className:"h-5 w-5"}):e.jsx(ye,{className:"h-5 w-5"})}),e.jsx("button",{onClick:C,className:"p-3 bg-red-500 hover:bg-red-600 rounded-full transition-colors",children:e.jsx(H,{className:"h-5 w-5"})})]})]}),A&&e.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-red-300 rounded-full animate-pulse"}),e.jsx("span",{children:"Recording in progress..."})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search calls...",value:S,onChange:r=>P(r.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("select",{value:x,onChange:r=>f(r.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"incoming",children:"Incoming"}),e.jsx("option",{value:"outgoing",children:"Outgoing"})]}),e.jsxs("select",{value:j,onChange:r=>t(r.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Outcomes"}),e.jsx("option",{value:"successful",children:"Successful"}),e.jsx("option",{value:"follow_up_needed",children:"Follow-up Needed"}),e.jsx("option",{value:"not_interested",children:"Not Interested"}),e.jsx("option",{value:"voicemail",children:"Voicemail"}),e.jsx("option",{value:"no_answer",children:"No Answer"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Call History"})}),e.jsx("div",{className:"divide-y divide-gray-200",children:l.map(r=>e.jsx("div",{className:"p-6 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[_(r.type,r.status),r.isStarred&&e.jsx(Ne,{className:"h-4 w-4 text-yellow-500 fill-current"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:r.contactName}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${$(r.outcome)}`,children:r.outcome.replace("_"," ")})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:r.contactPhone}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsx("span",{children:r.startTime.toLocaleDateString()}),e.jsx("span",{children:r.startTime.toLocaleTimeString()})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(G,{className:"h-4 w-4"}),e.jsx("span",{children:R(r.duration)})]}),r.recording&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ye,{className:"h-4 w-4"}),e.jsx("span",{children:"Recorded"})]})]}),r.notes&&e.jsx("p",{className:"text-gray-700 mt-3",children:r.notes}),r.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:r.tags.map((c,I)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:c},I))})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.recording&&e.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 rounded-md hover:bg-blue-50",children:e.jsx(te,{size:16})}),e.jsx("button",{onClick:()=>D(r),className:"p-2 text-gray-400 hover:text-blue-600 rounded-md hover:bg-blue-50",children:e.jsx(Ce,{size:16})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 rounded-md hover:bg-blue-50",children:e.jsx(Y,{size:16})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-red-600 rounded-md hover:bg-red-50",children:e.jsx(ge,{size:16})})]})]})},r.id))}),l.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(H,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No call records found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:S||x!=="all"||j!=="all"?"Try adjusting your filters":"Start making calls to see records here"})]})]}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 p-6 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Call Details"}),e.jsx("button",{onClick:()=>D(null),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:d.contactName}),e.jsx("p",{className:"text-sm text-gray-600",children:d.contactPhone})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:d.type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Duration"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:R(d.duration)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:d.notes||"No notes"})]}),d.recording&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Recording"}),e.jsxs("div",{className:"mt-1 p-3 bg-gray-50 rounded-md",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-900",children:"Call Recording"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-700",children:e.jsx(te,{size:16})}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700",children:e.jsx(We,{size:16})})]})]}),d.recording.transcription&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Transcription:"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d.recording.transcription})]})]})]})]})]})})]})},Cs=()=>{const[s,o]=m.useState([{id:"1",title:"Product Demo",description:"Demo of our new features and capabilities",contactId:"1",contactName:"John Smith",contactEmail:"john@example.com",startTime:new Date(Date.now()+864e5),endTime:new Date(Date.now()+864e5+36e5),type:"video",meetingLink:"https://meet.example.com/demo-123",status:"confirmed",reminder:15,notes:"Prepare product demo slides",createdAt:new Date,createdBy:"Current User",attendees:["john@example.com"],isRecurring:!1},{id:"2",title:"Sales Call",description:"Follow-up sales discussion",contactId:"2",contactName:"Jane Wilson",contactEmail:"jane@example.com",startTime:new Date(Date.now()+1728e5),endTime:new Date(Date.now()+1728e5+18e5),type:"phone",status:"scheduled",reminder:30,notes:"Discuss pricing and contract terms",createdAt:new Date,createdBy:"Current User",attendees:["jane@example.com"],isRecurring:!1}]),[n,u]=m.useState(new Date),[g,k]=m.useState("week"),[p,M]=m.useState(!1),[A,L]=m.useState(null),[T,z]=m.useState(""),[S,P]=m.useState("all"),f=(()=>{const l=[];for(let I=8;I<18;I++)for(let h=0;h<60;h+=30){const N=`${I.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}`,F=s.find(le=>{const xe=le.startTime.getHours(),ue=le.startTime.getMinutes();return xe===I&&Math.floor(ue/30)*30===h});l.push({time:N,available:!F,meetingId:F?.id,meetingTitle:F?.title})}return l})(),j=l=>{switch(l){case"confirmed":return"bg-green-100 text-green-800";case"scheduled":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";case"completed":return"bg-gray-100 text-gray-800";case"no-show":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},t=l=>{switch(l){case"video":return e.jsx(Se,{className:"h-4 w-4 text-blue-600"});case"phone":return e.jsx(H,{className:"h-4 w-4 text-green-600"});case"in-person":return e.jsx(we,{className:"h-4 w-4 text-purple-600"});default:return e.jsx(U,{className:"h-4 w-4 text-gray-600"})}},d=l=>l.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),D=l=>l.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),a=l=>{const r=new Date(n);r.setDate(n.getDate()+(l==="next"?7:-7)),u(r)},v=l=>{const r=new Date(n);r.setMonth(n.getMonth()+(l==="next"?1:-1)),u(r)},C=(l,r)=>{o(c=>c.map(I=>I.id===l?{...I,status:r}:I))},i=l=>{confirm("Are you sure you want to delete this meeting?")&&o(r=>r.filter(c=>c.id!==l))},b=l=>{console.log("Sending calendar invite for:",l.title),alert(`Calendar invite sent to ${l.contactEmail}`)},R=s.filter(l=>{const r=l.title.toLowerCase().includes(T.toLowerCase())||l.contactName.toLowerCase().includes(T.toLowerCase())||l.description.toLowerCase().includes(T.toLowerCase()),c=S==="all"||l.status===S;return r&&c}),$=(()=>{const l=new Date(n);l.setDate(n.getDate()-n.getDay());const r=[];for(let c=0;c<7;c++){const I=new Date(l);I.setDate(l.getDate()+c),r.push(I)}return r})();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Meeting Scheduler"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Schedule and manage your meetings"})]}),e.jsxs("button",{onClick:()=>M(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md transition-colors",children:[e.jsx(W,{size:18,className:"mr-1"}),"Schedule Meeting"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>g==="week"?a("prev"):v("prev"),className:"p-2 hover:bg-gray-100 rounded-md",children:e.jsx(as,{size:20})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:g==="week"?`Week of ${D($[0])}`:n.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),e.jsx("button",{onClick:()=>g==="week"?a("next"):v("next"),className:"p-2 hover:bg-gray-100 rounded-md",children:e.jsx(ie,{size:20})})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex bg-gray-100 rounded-md p-1",children:[e.jsx("button",{onClick:()=>k("week"),className:`px-3 py-1 text-sm font-medium rounded transition-colors ${g==="week"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Week"}),e.jsx("button",{onClick:()=>k("month"),className:`px-3 py-1 text-sm font-medium rounded transition-colors ${g==="month"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Month"})]}),e.jsx("button",{onClick:()=>u(new Date),className:"px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-md transition-colors",children:"Today"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search meetings...",value:T,onChange:l=>z(l.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsx("div",{className:"flex space-x-3",children:e.jsxs("select",{value:S,onChange:l=>P(l.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"}),e.jsx("option",{value:"no-show",children:"No Show"})]})})]})}),g==="week"?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"grid grid-cols-8 gap-0 border-b border-gray-200",children:[e.jsx("div",{className:"p-4 text-sm font-medium text-gray-600",children:"Time"}),$.map((l,r)=>e.jsxs("div",{className:"p-4 text-center border-l border-gray-200",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.toLocaleDateString("en-US",{weekday:"short"})}),e.jsx("div",{className:"text-sm text-gray-600",children:l.getDate()})]},r))]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:f.map((l,r)=>e.jsxs("div",{className:"grid grid-cols-8 gap-0 border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("div",{className:"p-3 text-xs text-gray-600 border-r border-gray-200",children:l.time}),$.map((c,I)=>e.jsx("div",{className:"p-2 border-l border-gray-200 min-h-[3rem]"},I))]},r))})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsx("p",{className:"text-gray-600 text-center",children:"Month view calendar would be implemented here"})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upcoming Meetings"})}),e.jsx("div",{className:"divide-y divide-gray-200",children:R.map(l=>e.jsx("div",{className:"p-6 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex items-center space-x-2",children:t(l.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:l.title}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j(l.status)}`,children:l.status})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:l.description}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(me,{className:"h-4 w-4"}),e.jsx("span",{children:l.contactName})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsx("span",{children:D(l.startTime)})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(G,{className:"h-4 w-4"}),e.jsxs("span",{children:[d(l.startTime)," - ",d(l.endTime)]})]}),l.meetingLink&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Je,{className:"h-4 w-4"}),e.jsx("span",{children:"Meeting Link"})]})]}),l.notes&&e.jsx("p",{className:"text-gray-700 mt-3 text-sm",children:l.notes})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[l.status==="scheduled"&&e.jsxs("button",{onClick:()=>C(l.id,"confirmed"),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-green-700 bg-green-100 hover:bg-green-200 rounded-md transition-colors",children:[e.jsx(Z,{size:14,className:"mr-1"}),"Confirm"]}),l.meetingLink&&e.jsxs("button",{onClick:()=>navigator.clipboard.writeText(l.meetingLink),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-blue-700 bg-blue-100 hover:bg-blue-200 rounded-md transition-colors",children:[e.jsx(Ye,{size:14,className:"mr-1"}),"Copy Link"]}),e.jsxs("button",{onClick:()=>b(l),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-purple-700 bg-purple-100 hover:bg-purple-200 rounded-md transition-colors",children:[e.jsx(he,{size:14,className:"mr-1"}),"Send Invite"]}),e.jsxs("button",{onClick:()=>L(l),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:[e.jsx(Y,{size:14,className:"mr-1"}),"Edit"]}),e.jsxs("button",{onClick:()=>i(l.id),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-red-700 bg-red-100 hover:bg-red-200 rounded-md transition-colors",children:[e.jsx(ge,{size:14,className:"mr-1"}),"Delete"]})]})]})},l.id))}),R.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(U,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No meetings found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:T||S!=="all"?"Try adjusting your filters":"Schedule your first meeting to get started"})]})]}),(p||A)&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 p-6 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:A?"Edit Meeting":"Schedule New Meeting"}),e.jsx("button",{onClick:()=>{M(!1),L(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(ce,{size:24})})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Meeting scheduling form would be implemented here with fields for title, contact, date/time, type, and other details."}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{M(!1),L(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-md",children:"Cancel"}),e.jsx("button",{onClick:()=>{M(!1),L(null)},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md",children:A?"Update Meeting":"Schedule Meeting"})]})]})})]})},Ls=()=>{const{contacts:s,isLoading:o,error:n,searchTerm:u,setSearchTerm:g,searchContacts:k,selectedContacts:p,toggleContactSelection:M,selectAllContacts:A,clearSelection:L,fetchContacts:T,deleteContact:z,analyzeContact:S,enrichContact:P}=Ze(),[x,f]=m.useState(!1),[j,t]=m.useState("grid"),[d,D]=m.useState("contacts"),[a,v]=m.useState(null),[C,i]=m.useState("view"),[b,R]=m.useState("name"),[_,$]=m.useState("asc"),[l,r]=m.useState(!1),[c,I]=m.useState({status:[],interestLevel:[],industry:[],tags:[],scoreRange:{min:0,max:100},location:[],source:[]}),h=Object.values(s);m.useEffect(()=>{T()},[T]);const N=m.useMemo(()=>{let y=h;if(u.trim()&&(y=k(u)),c.status.length>0&&(y=y.filter(w=>c.status.includes(w.status))),c.interestLevel.length>0&&(y=y.filter(w=>w.interestLevel&&c.interestLevel.includes(w.interestLevel))),c.industry.length>0&&(y=y.filter(w=>w.industry&&c.industry.includes(w.industry))),c.tags.length>0&&(y=y.filter(w=>w.tags&&w.tags.some(E=>c.tags.includes(E)))),c.source.length>0&&(y=y.filter(w=>(w.sources||[w.source]).filter(O=>typeof O=="string").some(O=>c.source.includes(O)))),y=y.filter(w=>{const E=w.aiScore||w.score||0;return E>=c.scoreRange.min&&E<=c.scoreRange.max}),c.isFavorite&&(y=y.filter(w=>w.isFavorite)),c.hasCustomFields&&(y=y.filter(w=>w.customFields&&Object.keys(w.customFields).length>0)),c.lastContactDays){const w=new Date;w.setDate(w.getDate()-c.lastContactDays),y=y.filter(E=>E.lastContact&&new Date(E.lastContact)>=w)}return y.sort((w,E)=>{let O=w[b],V=E[b];return b==="lastContact"?(O=O?new Date(O).getTime():0,V=V?new Date(V).getTime():0):b==="score"?(O=w.aiScore||w.score||0,V=E.aiScore||E.score||0):typeof O=="string"&&(O=O.toLowerCase(),V=V?.toLowerCase()||""),_==="asc"?O>V?1:-1:O<V?1:-1})},[h,u,k,c,b,_]),F=async()=>{r(!0);try{const y=p.length>0?p.map(w=>S(w)):N.slice(0,10).map(w=>S(w.id));await Promise.all(y)}catch(y){console.error("Failed to analyze contacts:",y)}finally{r(!1)}},le=()=>{p.length!==0&&confirm(`Enrich ${p.length} contacts?`)&&(p.forEach(y=>P(y)),L())},xe=()=>{p.length!==0&&confirm(`Delete ${p.length} contacts? This action cannot be undone.`)&&(p.forEach(y=>z(y)),L())},ue=y=>{v(y),i("view")},Ae=y=>{v(y),i("edit")},Te=()=>{v(null),i("view")},Ie=y=>{I(y)},Le=()=>{I({status:[],interestLevel:[],industry:[],tags:[],scoreRange:{min:0,max:100},location:[],source:[]})},ne=()=>c.status.length>0||c.interestLevel.length>0||c.industry.length>0||c.tags.length>0||c.source.length>0||c.isFavorite||c.hasCustomFields||c.lastContactDays||c.scoreRange.min>0||c.scoreRange.max<100;return o?e.jsx("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):n?e.jsx("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:e.jsxs("p",{className:"text-red-600",children:["Error: ",n]})})}):e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[e.jsx("header",{className:"mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Enhanced Contacts"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"AI-powered contact management with advanced filtering and insights"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:F,disabled:l,className:"inline-flex items-center px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white font-medium rounded-md transition-colors disabled:bg-purple-300",children:[e.jsx(oe,{size:18,className:"mr-1"}),l?"Analyzing...":"AI Analysis"]}),e.jsxs("button",{onClick:()=>{v(null),i("create")},className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md transition-colors",children:[e.jsx(W,{size:18,className:"mr-1"}),"Add Contact"]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:N.length})," contacts",N.length!==h.length&&e.jsxs("span",{className:"text-gray-500 ml-1",children:["of ",h.length]})]}),p.length>0&&e.jsxs("div",{className:"text-sm text-blue-600",children:[e.jsx("span",{className:"font-semibold",children:p.length})," selected"]})]}),p.length>0&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:le,className:"px-3 py-1 text-sm bg-green-100 text-green-700 rounded-md hover:bg-green-200 transition-colors",children:"Enrich Selected"}),e.jsx("button",{onClick:xe,className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors",children:"Delete Selected"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsx("div",{className:"flex-1 lg:mr-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx("input",{type:"text",placeholder:"Search contacts...",value:u,onChange:y=>g(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>f(!0),className:`inline-flex items-center px-3 py-2 border rounded-md transition-colors ${ne()?"border-blue-300 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(De,{size:16,className:"mr-1"}),"Filters",ne()&&e.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-blue-600 text-white text-xs rounded-full",children:"•"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:`${b}-${_}`,onChange:y=>{const[w,E]=y.target.value.split("-");R(w),$(E)},className:"appearance-none pl-3 pr-8 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"name-asc",children:"Name A-Z"}),e.jsx("option",{value:"name-desc",children:"Name Z-A"}),e.jsx("option",{value:"company-asc",children:"Company A-Z"}),e.jsx("option",{value:"company-desc",children:"Company Z-A"}),e.jsx("option",{value:"score-desc",children:"Score High-Low"}),e.jsx("option",{value:"score-asc",children:"Score Low-High"}),e.jsx("option",{value:"lastContact-desc",children:"Recent Contact"}),e.jsx("option",{value:"lastContact-asc",children:"Oldest Contact"})]}),e.jsx(Qe,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}),e.jsxs("div",{className:"flex border border-gray-300 rounded-md",children:[e.jsx("button",{onClick:()=>t("grid"),className:`p-2 ${j==="grid"?"bg-blue-50 text-blue-600 border-r border-blue-200":"text-gray-600 hover:bg-gray-50 border-r border-gray-300"}`,children:e.jsx(Xe,{size:16})}),e.jsx("button",{onClick:()=>t("list"),className:`p-2 ${j==="list"?"bg-blue-50 text-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:e.jsx(Ke,{size:16})})]}),e.jsxs("button",{onClick:()=>A(N),className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(se,{size:16,className:"mr-1"}),p.length===N.length?"Deselect All":"Select All"]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8 px-6",children:[e.jsx("button",{onClick:()=>D("contacts"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${d==="contacts"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{size:18}),e.jsx("span",{children:"Contacts"})]})}),e.jsx("button",{onClick:()=>D("communication"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${d==="communication"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{size:18}),e.jsx("span",{children:"Communication Hub"})]})}),e.jsx("button",{onClick:()=>D("automation"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${d==="automation"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(K,{size:18}),e.jsx("span",{children:"Automation"})]})}),e.jsx("button",{onClick:()=>D("calls"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${d==="calls"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{size:18}),e.jsx("span",{children:"Call Logging"})]})}),e.jsx("button",{onClick:()=>D("meetings"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${d==="meetings"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{size:18}),e.jsx("span",{children:"Meeting Scheduler"})]})})]})})}),d==="contacts"&&e.jsx(e.Fragment,{children:o?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),e.jsx("h3",{className:"mt-4 text-sm font-medium text-gray-900",children:"Loading contacts..."}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Please wait while we fetch your contacts"})]}):n?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-12 w-12 text-red-400 flex items-center justify-center",children:"⚠️"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Error loading contacts"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>T(),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Try Again"})})]}):e.jsx(e.Fragment,{children:N.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(se,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No contacts found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:u||ne()?"Try adjusting your search or filters":"Get started by adding your first contact"}),!u&&!ne()&&e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:()=>{v(null),i("create")},className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(W,{className:"mr-2 h-5 w-5"}),"Add Contact"]})})]}):e.jsx("div",{className:j==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:N.map(y=>e.jsx(ys,{contact:y,isSelected:p.includes(y.id),onSelect:M,onEdit:Ae,onDelete:w=>{confirm("Delete this contact? This action cannot be undone.")&&z(w)},onView:ue},y.id))})})}),d==="communication"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(Me,{}),e.jsx(vs,{})]}),d==="automation"&&e.jsx(Ns,{}),d==="calls"&&e.jsx(ws,{}),d==="meetings"&&e.jsx(Cs,{}),e.jsx(js,{isOpen:x,onClose:()=>f(!1),onApplyFilters:Ie,onClearFilters:Le,contacts:h,currentFilters:c}),e.jsx(es,{isOpen:C==="create"||!!a,onClose:Te,contact:a||void 0,mode:C})]})};export{Ls as default};
